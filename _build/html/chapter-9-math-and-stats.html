
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>9. Mathematics and Statistics in Python &#8212; MA346 Course Notes</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="canonical" href="https://nathancarter.github.io/MA346-course-notes/chapter-9-math-and-stats.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="10. Visualization" href="chapter-10-visualization.html" />
    <link rel="prev" title="8. Version Control" href="chapter-8-version-control.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">MA346 Course Notes</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Course Notes for Data Science (MA346)
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Notes
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-1-intro-to-data-science.html">
   1. Introduction to Data Science
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-2-mathematical-foundations.html">
   2. Mathematical Foundations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-3-jupyter.html">
   3. Jupyter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-4-review-of-python-and-pandas.html">
   4. Review of Python and pandas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-5-before-and-after.html">
   5. Before and After
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-6-single-table-verbs.html">
   6. Single-Table Verbs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-7-abstraction.html">
   7. Abstraction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-8-version-control.html">
   8. Version Control
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   9. Mathematics and Statistics in Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-10-visualization.html">
   10. Visualization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-11-processing-rows.html">
   11. Processing the Rows of a DataFrame
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-12-concat-and-merge.html">
   12. Concatenating and Merging DataFrames
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-13-etl.html">
   13. Miscellaneous Munging Methods (ETL)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-14-dashboards.html">
   14. Dashboards
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-15-networks.html">
   15. Relations as Graphs - Network Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-16-matrices.html">
   16. Relations as Matrices
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-17-machine-learning.html">
   17. Introduction to Machine Learning
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Appendices
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="course-schedule.html">
   1. Detailed Course Schedule
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="big-cheat-sheet.html">
   2. Big Cheat Sheet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="anaconda-installation.html">
   3. Anaconda Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="vs-code-installation.html">
   4. VS Code for Python Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="GB213-review-in-Python.html">
   5. GB213 Review in Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="loyo-list.html">
   6. All Learning On Your Own Opportunities
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/chapter-9-math-and-stats.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/nathancarter/MA346-course-notes/master?urlpath=tree/chapter-9-math-and-stats.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#math-in-python">
   9.1. Math in Python
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#naming-mathematical-variables">
   9.2. Naming mathematical variables
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#but-what-about-numpy">
   9.3. But what about NumPy?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#binding-function-arguments">
   9.4. Binding function arguments
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#gb213-in-python">
   9.5. GB213 in Python
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#curve-fitting-in-general">
   9.6. Curve fitting in general
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#let-s-say-we-have-some-data">
     9.6.1. Let’s say we have some data…
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#choose-a-model">
     9.6.2. Choose a model
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ask-scipy-to-find-the-betas">
     9.6.3. Ask SciPy to find the
     <span class="math notranslate nohighlight">
      \(\beta\)
     </span>
     s
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#describe-and-show-the-fit-model">
     9.6.4. 4. Describe and show the fit model
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="mathematics-and-statistics-in-python">
<h1><span class="section-number">9. </span>Mathematics and Statistics in Python<a class="headerlink" href="#mathematics-and-statistics-in-python" title="Permalink to this headline">¶</a></h1>
<p><a href="../../_slides/chapter-9-slides.html">See also the slides that summarize a portion of this content.</a></p>
<div class="section" id="math-in-python">
<h2><span class="section-number">9.1. </span>Math in Python<a class="headerlink" href="#math-in-python" title="Permalink to this headline">¶</a></h2>
<p>Having had CS230, you are surely familiar with Python’s built-in math operators <code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">/</span></code>, and <code class="docutils literal notranslate"><span class="pre">**</span></code>.  You’re probably also familiar with the fact that Python has a <code class="docutils literal notranslate"><span class="pre">math</span></code> module that you can use for things like trigonometry.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span> <span class="mi">0</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.0
</pre></div>
</div>
</div>
</div>
<p>I list here just a few highlights from that module that are relevant for statistical computations.</p>
<p><code class="docutils literal notranslate"><span class="pre">math.exp(x)</span></code> is <span class="math notranslate nohighlight">\(e^x\)</span>, so the following computes <span class="math notranslate nohighlight">\(e\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span> <span class="mi">1</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.718281828459045
</pre></div>
</div>
</div>
</div>
<p>Natural logarithms are written <span class="math notranslate nohighlight">\(\ln x\)</span> in mathematics, but just <code class="docutils literal notranslate"><span class="pre">log</span></code> in Python.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span> <span class="mi">10</span> <span class="p">)</span>  <span class="c1"># natural log of 10</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.302585092994046
</pre></div>
</div>
</div>
</div>
<p>A few other functions in the <code class="docutils literal notranslate"><span class="pre">math</span></code> module are also useful for data work, but show up much less often.  The distance between any two points in the plane (or any number of dimensions) can be computed with <code class="docutils literal notranslate"><span class="pre">math.dist()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">math</span><span class="o">.</span><span class="n">dist</span><span class="p">(</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6.324555320336759
</pre></div>
</div>
</div>
</div>
<p>Combinations and permutations can be computed with <code class="docutils literal notranslate"><span class="pre">math.comb()</span></code> and <code class="docutils literal notranslate"><span class="pre">math.perm()</span></code> (since Python 3.8).</p>
</div>
<div class="section" id="naming-mathematical-variables">
<h2><span class="section-number">9.2. </span>Naming mathematical variables<a class="headerlink" href="#naming-mathematical-variables" title="Permalink to this headline">¶</a></h2>
<p>In programming, we almost never name variables with unhelpful names like <code class="docutils literal notranslate"><span class="pre">k</span></code> and <code class="docutils literal notranslate"><span class="pre">x</span></code>, because later readers of the code (or even ourselves reading it in two months) won’t know what <code class="docutils literal notranslate"><span class="pre">k</span></code> and <code class="docutils literal notranslate"><span class="pre">x</span></code> actually mean.  The one exception to this is in mathematics, where it is normal to use single-letter variables, and indeed sometimes the letters matter.</p>
<p><strong>Example 1:</strong>  The quadratic formula is almost always written using the letters <span class="math notranslate nohighlight">\(a\)</span>, <span class="math notranslate nohighlight">\(b\)</span>, and <span class="math notranslate nohighlight">\(c\)</span>.  Yes, names like <code class="docutils literal notranslate"><span class="pre">x_squared_coefficient</span></code>, <code class="docutils literal notranslate"><span class="pre">x_coefficient</span></code>, and <code class="docutils literal notranslate"><span class="pre">constant</span></code> are more descriptive, but they would lead to much uglier code that’s not what anyone expects.  Compare:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># not super easy to read, but not bad:</span>
<span class="k">def</span> <span class="nf">quadratic_formula_1</span> <span class="p">(</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="p">):</span>
    <span class="n">solution1</span> <span class="o">=</span> <span class="p">(</span> <span class="o">-</span><span class="n">b</span> <span class="o">+</span> <span class="p">(</span> <span class="n">b</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">a</span><span class="o">*</span><span class="n">c</span> <span class="p">)</span><span class="o">**</span><span class="mf">0.5</span> <span class="p">)</span> <span class="o">/</span> <span class="p">(</span> <span class="mi">2</span><span class="o">*</span><span class="n">a</span> <span class="p">)</span>
    <span class="n">solution2</span> <span class="o">=</span> <span class="p">(</span> <span class="o">-</span><span class="n">b</span> <span class="o">-</span> <span class="p">(</span> <span class="n">b</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">a</span><span class="o">*</span><span class="n">c</span> <span class="p">)</span><span class="o">**</span><span class="mf">0.5</span> <span class="p">)</span> <span class="o">/</span> <span class="p">(</span> <span class="mi">2</span><span class="o">*</span><span class="n">a</span> <span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span> <span class="n">solution1</span><span class="p">,</span> <span class="n">solution2</span> <span class="p">)</span>

<span class="c1"># oh my make it stop:</span>
<span class="k">def</span> <span class="nf">quadratic_formula_2</span> <span class="p">(</span> <span class="n">x_squared_coefficient</span><span class="p">,</span> <span class="n">x_coefficient</span><span class="p">,</span> <span class="n">constant</span> <span class="p">):</span>
    <span class="n">solution1</span> <span class="o">=</span> <span class="p">(</span> <span class="o">-</span><span class="n">x_coefficient</span> <span class="o">+</span> \
                    <span class="p">(</span> <span class="n">x_coefficient</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">x_squared_coefficient</span><span class="o">*</span><span class="n">constant</span> <span class="p">)</span><span class="o">**</span><span class="mf">0.5</span> <span class="p">)</span> \
                  <span class="o">/</span> <span class="p">(</span> <span class="mi">2</span><span class="o">*</span><span class="n">x_squared_coefficient</span> <span class="p">)</span>
    <span class="n">solution2</span> <span class="o">=</span> <span class="p">(</span> <span class="o">-</span><span class="n">x_coefficient</span> <span class="o">-</span> \
                    <span class="p">(</span> <span class="n">x_coefficient</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">x_squared_coefficient</span><span class="o">*</span><span class="n">constant</span> <span class="p">)</span><span class="o">**</span><span class="mf">0.5</span> <span class="p">)</span> \
                  <span class="o">/</span> <span class="p">(</span> <span class="mi">2</span><span class="o">*</span><span class="n">x_squared_coefficient</span> <span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span> <span class="n">solution1</span><span class="p">,</span> <span class="n">solution2</span> <span class="p">)</span>

<span class="c1"># of course both work fine:</span>
<span class="n">quadratic_formula_1</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">quadratic_formula_2</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>((2.0, 1.0), (2.0, 1.0))
</pre></div>
</div>
</div>
</div>
<p>But the first one is so much easier to read.</p>
<p><strong>Example 2:</strong>  Statistics always uses <span class="math notranslate nohighlight">\(\mu\)</span> for the mean of a population and <span class="math notranslate nohighlight">\(\sigma\)</span> for its standard deviation.  If we wrote code where we used <code class="docutils literal notranslate"><span class="pre">mean</span></code> and <code class="docutils literal notranslate"><span class="pre">standard_deviation</span></code> for those, that wouldn’t be hard to read, but it wouldn’t be as clear, either.</p>
<p>Interestingly, you can actually type Greek letters into Python code and use them as variable names!  In Jupyter, just type a backslash (<code class="docutils literal notranslate"><span class="pre">\</span></code>) followed by the name of the letter (such as <code class="docutils literal notranslate"><span class="pre">mu</span></code>) and then press the Tab key.  It will replace the code <code class="docutils literal notranslate"><span class="pre">\mu</span></code> with the actual letter <span class="math notranslate nohighlight">\(\mu\)</span>.  I’ve done so in the example code below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">normal_pdf</span> <span class="p">(</span> <span class="n">μ</span><span class="p">,</span> <span class="n">σ</span><span class="p">,</span> <span class="n">x</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The value of the probability density function for</span>
<span class="sd">    the normal distribution N(μ,σ^2), with mean μ and</span>
<span class="sd">    variance σ^2.&quot;&quot;&quot;</span>
    <span class="n">shifted</span> <span class="o">=</span> <span class="p">(</span> <span class="n">x</span> <span class="o">-</span> <span class="n">μ</span> <span class="p">)</span> <span class="o">/</span> <span class="n">σ</span>
    <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span> <span class="o">-</span><span class="n">shifted</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="mf">2.0</span> <span class="p">)</span> \
         <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span> <span class="mi">2</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="p">)</span> <span class="o">/</span> <span class="n">σ</span>

<span class="n">normal_pdf</span><span class="p">(</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">15</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.00876415024678427
</pre></div>
</div>
</div>
</div>
<p>The same feature is not (yet?) available in VS Code, but you can copy and paste Greek letters from anywhere into your code in any editor, and they still count as valid Python variable names.</p>
</div>
<div class="section" id="but-what-about-numpy">
<h2><span class="section-number">9.3. </span>But what about NumPy?<a class="headerlink" href="#but-what-about-numpy" title="Permalink to this headline">¶</a></h2>
<p>Pandas is built on NumPy, and many data science projects also use NumPy directly.  Since NumPy implements tons of mathematical tools, why bother using the ones in Python’s built-in <code class="docutils literal notranslate"><span class="pre">math</span></code> module?  Well, on the one hand, NumPy doesn’t have <em>everything</em>; for instance, the <code class="docutils literal notranslate"><span class="pre">math.comb()</span></code> and <code class="docutils literal notranslate"><span class="pre">math.perm()</span></code> functions mentioned above don’t exist in NumPy.  But when you <em>can</em> use NumPy, you <em>should,</em> for the following important reason.</p>
<div class="alert alert-primary admonition">
<p class="admonition-title">Big Picture - Vectorization and its benefits</p>
<p>All the functions in NumPy are <em>vectorized,</em> meaning that they will automatically apply themselves to every element of a NumPy array.  For instance, you can just as easily compute <code class="docutils literal notranslate"><span class="pre">square(5)</span></code> (and get 25) as you can compute <code class="docutils literal notranslate"><span class="pre">square(x)</span></code> if <code class="docutils literal notranslate"><span class="pre">x</span></code> is a list of 1000 entries.  NumPy notices that you provided a list of things to square, and it squares them all.  What are the benefits to vectorization?</p>
<ol class="simple">
<li><p>Using vectorization saves you <em>the work of writing loops.</em>  You don’t have to loop through all 1000 entries in <code class="docutils literal notranslate"><span class="pre">x</span></code> to square each one; NumPy knew what you meant.</p></li>
<li><p>Using vectorization saves the readers of your code <em>the work of reading and understanding loops.</em></p></li>
<li><p>If you had to write a loop to apply a Python function (like <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">x**2</span></code>) to a list of 1000 entries, then the loop would (obviously) run in Python.  Although Python is a very convenient language to code in, it does not produce very fast-running code.  Tools like NumPy are written in languages like C++, which are less convenient to code in, but produce faster-running results.  So if you can have NumPy automatically loop over your data, rather than writing a loop in Python, <em>the code will execute faster.</em></p></li>
</ol>
</div>
<p>We will return to vectorization and loops in Chapter 11 of these notes.  For now, let’s just run a few NumPy functions.  In each case, notice that we give it an array as input, and it automatically knows that it should take action on each entry in the array.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create an array of 30 random numbers to work with.</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span> <span class="mi">30</span> <span class="p">)</span>
<span class="n">values</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.93826117, 0.31952217, 0.02467775, 0.39249688, 0.28338813,
       0.10938025, 0.60333062, 0.05260068, 0.61619054, 0.85217612,
       0.17514924, 0.21104458, 0.46545924, 0.82230576, 0.47485467,
       0.71297027, 0.60961594, 0.71336488, 0.93168409, 0.70708863,
       0.95063217, 0.94114581, 0.39933384, 0.24890841, 0.11552527,
       0.58974866, 0.97254412, 0.20097777, 0.04963502, 0.57608679])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span> <span class="n">values</span><span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="c1"># round to 2 decimal digits</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.94, 0.32, 0.02, 0.39, 0.28, 0.11, 0.6 , 0.05, 0.62, 0.85, 0.18,
       0.21, 0.47, 0.82, 0.47, 0.71, 0.61, 0.71, 0.93, 0.71, 0.95, 0.94,
       0.4 , 0.25, 0.12, 0.59, 0.97, 0.2 , 0.05, 0.58])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span> <span class="n">values</span> <span class="p">)</span> <span class="c1"># compute e^x for each x in the array</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([2.55553392, 1.37646989, 1.02498476, 1.48067324, 1.32762035,
       1.11558647, 1.82819771, 1.05400868, 1.85186   , 2.34474376,
       1.19142401, 1.23496741, 1.59274548, 2.27574111, 1.60778052,
       2.04004174, 1.8397247 , 2.04084691, 2.53878111, 2.02807817,
       2.58734479, 2.56291636, 1.49083124, 1.28262456, 1.12246288,
       1.80353506, 2.64466425, 1.22259759, 1.05088748, 1.77906294])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">square</span><span class="p">(</span> <span class="n">values</span> <span class="p">)</span> <span class="c1"># square each value</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([8.80334030e-01, 1.02094420e-01, 6.08991110e-04, 1.54053797e-01,
       8.03088304e-02, 1.19640395e-02, 3.64007841e-01, 2.76683170e-03,
       3.79690781e-01, 7.26204145e-01, 3.06772561e-02, 4.45398161e-02,
       2.16652307e-01, 6.76186766e-01, 2.25486959e-01, 5.08326606e-01,
       3.71631593e-01, 5.08889445e-01, 8.68035241e-01, 4.99974334e-01,
       9.03701529e-01, 8.85755443e-01, 1.59467517e-01, 6.19553982e-02,
       1.33460875e-02, 3.47803483e-01, 9.45842068e-01, 4.03920637e-02,
       2.46363537e-03, 3.31875987e-01])
</pre></div>
</div>
</div>
</div>
<p>Notice that this makes it very easy to compute certain mathematical formulas.  For example, when we want to measure the quality of a model, we might compute the RSSE, or Root Sum of Squared Errors, that is, the square root of the sum of the squared differences between each actual data value <span class="math notranslate nohighlight">\(y_i\)</span> and its predicted value <span class="math notranslate nohighlight">\(\hat y_i\)</span>.  In math, we write it like this:</p>
<div class="math notranslate nohighlight">
\[ \text{RSSE} = \sqrt{\sum_{i=1}^n (y_i-\hat y_i)^2} \]</div>
<p>The summation symbol lets you know that a loop will take place.  But in NumPy, we can do it without writing any loops.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ys</span>    <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span> <span class="p">]</span> <span class="p">)</span>   <span class="c1"># made up data</span>
<span class="n">yhats</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span> <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">]</span> <span class="p">)</span>   <span class="c1"># also made up</span>
<span class="n">RSSE</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span> <span class="n">np</span><span class="o">.</span><span class="n">square</span><span class="p">(</span> <span class="n">ys</span> <span class="o">-</span> <span class="n">yhats</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
<span class="n">RSSE</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.605551275463989
</pre></div>
</div>
</div>
</div>
<p>Notice how the NumPy code also reads just like the English:  It’s the square root of the sume of the squared differences; the code literally says that in the formula itself!  If we had had to write it in pure Python, we would have used either a loop or a list comprehension, like in the example below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">RSSE</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span> <span class="nb">sum</span><span class="p">(</span> <span class="p">[</span> <span class="p">(</span> <span class="n">ys</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">yhats</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ys</span><span class="p">))</span> <span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="c1"># not as readable</span>
<span class="n">RSSE</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.605551275463989
</pre></div>
</div>
</div>
</div>
<p>A comprehensive list of NumPy’s math routines appear <a class="reference external" href="https://numpy.org/doc/stable/reference/routines.math.html">in the NumPy documentation</a>.</p>
</div>
<div class="section" id="binding-function-arguments">
<h2><span class="section-number">9.4. </span>Binding function arguments<a class="headerlink" href="#binding-function-arguments" title="Permalink to this headline">¶</a></h2>
<p>Many functions in statistics have two types of parameters.  Some of the parameters you change very rarely, and others you change all the time.</p>
<p><strong>Example 1:</strong>  Consider the <code class="docutils literal notranslate"><span class="pre">normal_pdf</span></code> function whose code appears <a class="reference external" href="#naming-mathematical-variables">in an earlier section</a> of this chapter.  It has three parameters, <span class="math notranslate nohighlight">\(\mu\)</span>, <span class="math notranslate nohighlight">\(\sigma\)</span>, and <span class="math notranslate nohighlight">\(x\)</span>.  You’ll probably have a particular normal distribution you want to work with, so you’ll choose <span class="math notranslate nohighlight">\(\mu\)</span> and <span class="math notranslate nohighlight">\(\sigma\)</span>, and then you’ll want to use the function on many different values of <span class="math notranslate nohighlight">\(x\)</span>.  So the first two parameters we choose just once, and the third parameter changes all the time.</p>
<p><strong>Example 2:</strong>  Consider fitting a linear model <span class="math notranslate nohighlight">\(\beta_0+\beta_1x\)</span> to some data <span class="math notranslate nohighlight">\(x_1,x_2,\ldots,x_n\)</span>.  That linear model is technically a function of three variables; we might write it as <span class="math notranslate nohighlight">\(f(\beta_0,\beta_1,x)\)</span>.  But when we fit the model to the data, then <span class="math notranslate nohighlight">\(\beta_0\)</span> and <span class="math notranslate nohighlight">\(\beta_1\)</span> get chosen, and we don’t change them after that.  But we might plug in hundreds or even thousands of different <span class="math notranslate nohighlight">\(x\)</span> values to <span class="math notranslate nohighlight">\(f\)</span>, using the same <span class="math notranslate nohighlight">\(\beta_0\)</span> and <span class="math notranslate nohighlight">\(\beta_1\)</span> values each time.</p>
<p>Programmers have a word for this; they call it <em>binding</em> the arguments of a function.  Binding allows us to tell Python that we’ve chosen values for some parameters and won’t be changing them; Python can thus give us a function with fewer parameters, to make things simpler.  Python does this with a tool called <code class="docutils literal notranslate"><span class="pre">partial</span></code> in its <code class="docutils literal notranslate"><span class="pre">functools</span></code> module.  Here’s how we would apply it to the <code class="docutils literal notranslate"><span class="pre">normal_pdf</span></code> function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>

<span class="c1"># Let&#39;s say I want the standard normal distribution, that is,</span>
<span class="c1"># I want to fill in the values μ=0 and σ=1 once for all.</span>
<span class="n">my_pdf</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span> <span class="n">normal_pdf</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span>

<span class="c1"># now I can use that on as many x inputs as I like, such as:</span>
<span class="n">my_pdf</span><span class="p">(</span> <span class="mi">0</span> <span class="p">),</span> <span class="n">my_pdf</span><span class="p">(</span> <span class="mi">1</span> <span class="p">),</span> <span class="n">my_pdf</span><span class="p">(</span> <span class="mi">2</span> <span class="p">),</span> <span class="n">my_pdf</span><span class="p">(</span> <span class="mi">3</span> <span class="p">),</span> <span class="n">my_pdf</span><span class="p">(</span> <span class="mi">4</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(0.3989422804014327,
 0.24197072451914337,
 0.05399096651318806,
 0.0044318484119380075,
 0.00013383022576488537)
</pre></div>
</div>
</div>
</div>
<p>In fact, SciPy’s built-in random number generating procedures let you use them either by binding arguments or not, at your preference.  For instance, to generate 10 random floating point values between 0 and 100, we can do the following.  (The <code class="docutils literal notranslate"><span class="pre">rvs</span></code> function stands for “random values.”)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>
<span class="n">stats</span><span class="o">.</span><span class="n">uniform</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([36.60955867, 77.51586944,  1.96074452, 21.31803257,  3.28894817,
       13.24632678, 94.3889619 , 28.0822312 , 85.98311721, 65.44893848])
</pre></div>
</div>
</div>
</div>
<p>Or we can use built-in SciPy functionality to bind the first two arguments and create a specific random variable, then call <code class="docutils literal notranslate"><span class="pre">rvs</span></code> on that.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span> <span class="p">)</span>  <span class="c1"># make a random variable</span>
<span class="n">X</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span> <span class="p">)</span>             <span class="c1"># generate 10 values from it</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([72.38881231, 78.19580542, 56.87322453, 10.5417876 ,  6.65259583,
        1.63325081,  0.2183235 , 36.4144289 , 18.48651172,  3.77368005])
</pre></div>
</div>
</div>
</div>
<p>The same random variable can, of course, be used to create more values later.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">partial</span></code> tool built into Python only works if you want to bind the <em>first</em> arguments of the function.  If you need to bind later ones, then you can do it yourself using a <code class="docutils literal notranslate"><span class="pre">lambda</span></code>, as in the following example.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">subtract</span> <span class="p">(</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="p">):</span>   <span class="c1"># silly little example function</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span>

<span class="n">subtract_1</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">a</span><span class="p">:</span> <span class="n">subtract</span><span class="p">(</span> <span class="n">a</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span>  <span class="c1"># bind second argument to 1</span>

<span class="n">subtract_1</span><span class="p">(</span> <span class="mi">5</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<p>We will also use the concept of binding function parameters when we come to curve fitting at the end of this chapter.</p>
</div>
<div class="section" id="gb213-in-python">
<h2><span class="section-number">9.5. </span>GB213 in Python<a class="headerlink" href="#gb213-in-python" title="Permalink to this headline">¶</a></h2>
<p>All MA346 students have taken GB213 as a prerequisite, and we will not spend time in our course reviewing its content.  However, you may very well want to know how to do computations from GB213 using Python, and these notes provide <a class="reference internal" href="GB213-review-in-Python.html"><span class="doc std std-doc">an appendix that covers exactly that</span></a>.  Refer to it whenever you need to use some GB213 content in this course.</p>
<p>Topics covered there:</p>
<ul class="simple">
<li><p>Discrete and continuous random variables</p>
<ul>
<li><p>creating</p></li>
<li><p>plotting</p></li>
<li><p>generating random values</p></li>
<li><p>computing probabilities</p></li>
<li><p>computing statistics</p></li>
</ul>
</li>
<li><p>Hypothesis testing for a population mean</p>
<ul>
<li><p>one-sided</p></li>
<li><p>two-sided</p></li>
</ul>
</li>
<li><p>Simple linear regression (one predictor variable)</p>
<ul>
<li><p>creating the model from data</p></li>
<li><p>computing <span class="math notranslate nohighlight">\(R\)</span> and <span class="math notranslate nohighlight">\(R^2\)</span></p></li>
<li><p>visualizing the model</p></li>
</ul>
</li>
</ul>
<p>That appendix does not cover the following topics.</p>
<ul class="simple">
<li><p>Basic probability (covered in every GB213 section)</p></li>
<li><p>ANOVA (covered in some GB213 sections)</p></li>
<li><p><span class="math notranslate nohighlight">\(\chi^2\)</span> tests (covered in some GB213 sections)</p></li>
</ul>
<div class="alert alert-danger admonition">
<p class="admonition-title">Learning on Your Own - Pingouin</p>
<p>The GB213 review appendix that I linked to above uses the very popular Python statistics tools <code class="docutils literal notranslate"><span class="pre">statsmodels</span></code> and <code class="docutils literal notranslate"><span class="pre">scipy.stats</span></code>.  But there is a relatively new toolkit called Pingouin; it’s not as popular (yet?) but it has some advantages over the other two.  See <a class="reference external" href="https://towardsdatascience.com/the-new-kid-on-the-statistics-in-python-block-pingouin-6b353a1db57c">this blog post</a> for an introduction and consider a tutorial, video, presentation, or notebook for the class that answers the following questions.</p>
<ul class="simple">
<li><p>For what tasks is Pingouin better than <code class="docutils literal notranslate"><span class="pre">statsmodels</span></code> or <code class="docutils literal notranslate"><span class="pre">scipy.stats</span></code>?  Show example code for doing those tasks in Pingouin.</p></li>
<li><p>For what tasks is Pingouin less useful or not yet capable, compared to the others?</p></li>
<li><p>If I want to use Pingouin, how do I get started?</p></li>
</ul>
</div>
</div>
<div class="section" id="curve-fitting-in-general">
<h2><span class="section-number">9.6. </span>Curve fitting in general<a class="headerlink" href="#curve-fitting-in-general" title="Permalink to this headline">¶</a></h2>
<p>The final topic covered in the GB213 review mentioned above is simple linear regression, which fits a line to a set of (two-dimensional) data points.  But Python’s scientific tools permit you to handle much more complex models.  We cannot cover mathematical modeling in detail in MA346, because it can take several courses on its own, but you can learn more about regression modeling in particular in <a class="reference external" href="https://catalog.bentley.edu/search/?P=MA%20252">MA252 at Bentley</a>.  But we will cover how to fit an arbitrary curve to data in Python.</p>
<div class="section" id="let-s-say-we-have-some-data">
<h3><span class="section-number">9.6.1. </span>Let’s say we have some data…<a class="headerlink" href="#let-s-say-we-have-some-data" title="Permalink to this headline">¶</a></h3>
<p>We will assume you have data stored in a pandas DataFrame, and we will lift out just two columns of the DataFrame, one that will be used as our <span class="math notranslate nohighlight">\(x\)</span> values (independent variable), and the other as our <span class="math notranslate nohighlight">\(y\)</span> values (dependent variable).  I’ll make up some data here just for use in this example.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># example data only, totally made up:</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span> <span class="p">{</span>
    <span class="s1">&#39;salt used (x)&#39;</span> <span class="p">:</span>     <span class="p">[</span> <span class="mf">2.1</span><span class="p">,</span> <span class="mf">2.9</span><span class="p">,</span> <span class="mf">3.1</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mf">3.7</span><span class="p">,</span> <span class="mf">4.6</span> <span class="p">],</span>
    <span class="s1">&#39;ice remaining (y)&#39;</span> <span class="p">:</span> <span class="p">[</span> <span class="mf">7.9</span><span class="p">,</span> <span class="mf">6.5</span><span class="p">,</span> <span class="mf">6.5</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">,</span> <span class="mf">6.2</span><span class="p">,</span> <span class="mf">6.0</span> <span class="p">]</span>
<span class="p">}</span> <span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>salt used (x)</th>
      <th>ice remaining (y)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2.1</td>
      <td>7.9</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.9</td>
      <td>6.5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3.1</td>
      <td>6.5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3.5</td>
      <td>6.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.7</td>
      <td>6.2</td>
    </tr>
    <tr>
      <th>5</th>
      <td>4.6</td>
      <td>6.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">xs</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;salt used (x)&#39;</span><span class="p">]</span>
<span class="n">ys</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ice remaining (y)&#39;</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">xs</span><span class="p">,</span> <span class="n">ys</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/chapter-9-math-and-stats_39_0.png" src="_images/chapter-9-math-and-stats_39_0.png" />
</div>
</div>
</div>
<div class="section" id="choose-a-model">
<h3><span class="section-number">9.6.2. </span>Choose a model<a class="headerlink" href="#choose-a-model" title="Permalink to this headline">¶</a></h3>
<p>Curve-fitting is a powerful tool, and it’s easy to misuse it by fitting to your data a model that doesn’t make sense for that data.  A mathematical modeling course can help you learn how to assess the appropriateness of a given type of line, curve, or more complex model for a given situation.  But for this small example, let’s pretend that we know that the following model makes sense, perhaps because some earlier work with salt and ice had success with it.  (Again, keep in mind that this example is really, truly, totally made up.)</p>
<div class="math notranslate nohighlight">
\[ y=\frac{\beta_0}{\beta_1+x}+\beta_2 \]</div>
<p>We will use this model.  <strong>When you do actual curve-fitting, do not use this model.  It is a formula I crafted just for use in this one specific example with made-up data.</strong>  When fitting a model to data, choose an appropriate model for your data.</p>
<p>Obviously, it’s not the equation of a line, so linear regression tools like those covered in the GB213 review notebook won’t be sufficient.  To begin, we code the model as a Python function taking inputs in this order: first, <span class="math notranslate nohighlight">\(x\)</span>, then after it, all the model parameters <span class="math notranslate nohighlight">\(\beta_0,\beta_1\)</span>, and so on, however many model parameters there happen to be (in this case three).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_model</span> <span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">β0</span><span class="p">,</span> <span class="n">β1</span><span class="p">,</span> <span class="n">β2</span> <span class="p">):</span>
    <span class="k">return</span> <span class="n">β0</span> <span class="o">/</span> <span class="p">(</span> <span class="n">β1</span> <span class="o">+</span> <span class="n">x</span> <span class="p">)</span> <span class="o">+</span> <span class="n">β2</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="ask-scipy-to-find-the-betas">
<h3><span class="section-number">9.6.3. </span>Ask SciPy to find the <span class="math notranslate nohighlight">\(\beta\)</span>s<a class="headerlink" href="#ask-scipy-to-find-the-betas" title="Permalink to this headline">¶</a></h3>
<p>This step is called “fitting the model to your data.”  It finds the values of <span class="math notranslate nohighlight">\(\beta_0,\beta_1,\beta_2\)</span> that make the most sense for the particular <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> data values that you have.  Using the language from earlier in this chapter, SciPy will tell us how to <em>bind values to the parameters</em> <span class="math notranslate nohighlight">\(\beta_0,\beta_1,\beta_2\)</span> of <code class="docutils literal notranslate"><span class="pre">my_model</span></code> so that the resulting function, which just takes <code class="docutils literal notranslate"><span class="pre">x</span></code> as input, is the one best fit to our data.</p>
<p>For example, if we picked our own values for the model parameters, we would probably guess poorly.  Let’s try guessing <span class="math notranslate nohighlight">\(\beta_0=3,\beta_1=4,\beta_2=5\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># fill in my guesses for the β parameters:</span>
<span class="n">guess_model</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">my_model</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span> <span class="p">)</span>

<span class="c1"># plot the data:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">xs</span><span class="p">,</span> <span class="n">ys</span> <span class="p">)</span>

<span class="c1"># plot my model by sampling many x values on it:</span>
<span class="n">many_xs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">100</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">many_xs</span><span class="p">,</span> <span class="n">guess_model</span><span class="p">(</span> <span class="n">many_xs</span> <span class="p">)</span> <span class="p">)</span>

<span class="c1"># show the two plots together:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/chapter-9-math-and-stats_43_0.png" src="_images/chapter-9-math-and-stats_43_0.png" />
</div>
</div>
<p>Yyyyyyeah…  Our model is nowhere near the data.  That’s why we need SciPy to find the <span class="math notranslate nohighlight">\(\beta\)</span>s.  Here’s how we ask it to do so.  You start with your own guess for the parameters, and SciPy will improve it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.optimize</span> <span class="kn">import</span> <span class="n">curve_fit</span>
<span class="n">my_guessed_betas</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span> <span class="p">]</span>
<span class="n">found_betas</span><span class="p">,</span> <span class="n">covariance</span> <span class="o">=</span> <span class="n">curve_fit</span><span class="p">(</span> <span class="n">my_model</span><span class="p">,</span> <span class="n">xs</span><span class="p">,</span> <span class="n">ys</span><span class="p">,</span> <span class="n">p0</span><span class="o">=</span><span class="n">my_guessed_betas</span> <span class="p">)</span>
<span class="n">β0</span><span class="p">,</span> <span class="n">β1</span><span class="p">,</span> <span class="n">β2</span> <span class="o">=</span> <span class="n">found_betas</span>
<span class="n">β0</span><span class="p">,</span> <span class="n">β1</span><span class="p">,</span> <span class="n">β2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(1.3739384272240622, -1.5255461192343747, 5.510233385761209)
</pre></div>
</div>
</div>
</div>
<p>So how does SciPy’s found model look?</p>
</div>
<div class="section" id="describe-and-show-the-fit-model">
<h3><span class="section-number">9.6.4. </span>4. Describe and show the fit model<a class="headerlink" href="#describe-and-show-the-fit-model" title="Permalink to this headline">¶</a></h3>
<p>Rounding to a few decimal places, our model is therefore the following:</p>
<div class="math notranslate nohighlight">
\[ y=\frac{1.37}{-1.53+x}+5.51 \]</div>
<p>It fits the data very well, as you can see below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fit_model</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">my_model</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">β0</span><span class="p">,</span> <span class="n">β1</span><span class="p">,</span> <span class="n">β2</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">xs</span><span class="p">,</span> <span class="n">ys</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">many_xs</span><span class="p">,</span> <span class="n">fit_model</span><span class="p">(</span> <span class="n">many_xs</span> <span class="p">)</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/chapter-9-math-and-stats_47_0.png" src="_images/chapter-9-math-and-stats_47_0.png" />
</div>
</div>
<div class="alert alert-primary admonition">
<p class="admonition-title">Big Picture - Models vs. fit models</p>
<p>In mathematical modeling and machine learning, we sometimes distinguish between a <em>model</em> and a <em>fit model.</em></p>
<ul class="simple">
<li><p><em>Models</em> are general descriptions of how a real-world system behaves, typically expressed using mathematical formulas.  Each model can be used on many datasets, and a statistician or data scientist does the work of choosing the model they think suits their data (and often also choosing which variables from the data are relevant).</p></li>
<li><p>Example models:</p>
<ul>
<li><p>A linear model, <span class="math notranslate nohighlight">\(y=\beta_0+\beta_1x\)</span></p></li>
<li><p>A quadratic model, <span class="math notranslate nohighlight">\(y=\beta_0+\beta_1x+\beta_2x^2\)</span></p></li>
<li><p>A logistic curve, <span class="math notranslate nohighlight">\(y=\frac{\beta_0}{1+e^{\beta_1(-x+\beta_2)}}\)</span></p></li>
<li><p>A neural network</p></li>
</ul>
</li>
<li><p>A <em>fit model</em> is the specific version of the general model that’s been tailored to suit your data.  We create it from the general model by <em>binding</em> the values of the <span class="math notranslate nohighlight">\(\beta\)</span>s to specific numbers.</p></li>
</ul>
<p>For example, if your model were <span class="math notranslate nohighlight">\(y=\beta_0+\beta_1x\)</span>, then your fit model might be <span class="math notranslate nohighlight">\(y=-0.95+1.13x\)</span>.  In the general model, <span class="math notranslate nohighlight">\(y\)</span> depends on three variables (<span class="math notranslate nohighlight">\(x,\beta_0,\beta_1\)</span>).  In the fit model, it depends on only one variable (<span class="math notranslate nohighlight">\(x\)</span>).  So model fitting is an example of binding the variables of a function.</p>
</div>
<p>When speaking informally, a data scientist or statistician might not always distinguish between “model” and “fit model,” sometimes just using the word “model” and expecting the listener to know which one is being discussed.  In other words, you will often hear people not bother with fussing over the specific technical terminology I just introduced.</p>
<p>But when we’re coding or writing mathematical formulas, the difference between a model and a fit model will always be clear.  The model in the example above was a mathematical formula with <span class="math notranslate nohighlight">\(\beta\)</span>s in it, and a Python function called <code class="docutils literal notranslate"><span class="pre">my_model</span></code>, that had <code class="docutils literal notranslate"><span class="pre">β</span></code> parameters.  But the fit model was the result of asking SciPy to do a <code class="docutils literal notranslate"><span class="pre">curve_fit</span></code>, and in that result, all the <span class="math notranslate nohighlight">\(\beta\)</span>s had been replaced with actual values.  That’s why we named that result <code class="docutils literal notranslate"><span class="pre">fit_model</span></code>.</p>
<p>The <a class="reference internal" href="chapter-17-machine-learning.html"><span class="doc std std-doc">final chapter</span></a> in these course notes does a preview of machine learning, using the popular Python package scikit-learn.  Here’s a little preview of what it looks like to fit a model to data using scikit-learn.  It’s not important to fully understand this code right now, but just to notice that scikit-learn makes the distinction between models and fit models impossible to ignore.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s say we&#39;re planning to use a linear model.</span>
<span class="kn">from</span> <span class="nn">scklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>
<span class="c1"># We now have a model, but not a fit model.</span>
<span class="c1"># We can&#39;t ask what its coefficients are, because they don&#39;t exist yet.</span>

<span class="c1"># I want to find the best linear model for *my* data.</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;my independent variable&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;my dependent variable&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="c1"># We now have a fit model.</span>
<span class="c1"># If we asked for its coefficients, we would see actual numbers.</span>
</pre></div>
</div>
<p>In class, we will use the SciPy model-fitting technique above to fit a logistic growth model to COVID-19 data.  Be sure to have completed the preparatory work on writing a function that extracts the series of COVID-19 cases over time for a given state!  Recall that it appears on the final slide of <a href="../../_slides/chapter-8-slides.html">the Chapter 8 slides.</a></p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="chapter-8-version-control.html" title="previous page"><span class="section-number">8. </span>Version Control</a>
    <a class='right-next' id="next-link" href="chapter-10-visualization.html" title="next page"><span class="section-number">10. </span>Visualization</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Nathan Carter<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>