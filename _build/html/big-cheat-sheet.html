
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2. Big Cheat Sheet &#8212; MA346 Course Notes</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="canonical" href="https://nathancarter.github.io/MA346-course-notes/big-cheat-sheet.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. Anaconda Installation" href="anaconda-installation.html" />
    <link rel="prev" title="1. Detailed Course Schedule" href="course-schedule.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">MA346 Course Notes</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Course Notes for Data Science (MA346)
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Notes
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-1-intro-to-data-science.html">
   1. Introduction to Data Science
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-2-mathematical-foundations.html">
   2. Mathematical Foundations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-3-jupyter.html">
   3. Jupyter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-4-review-of-python-and-pandas.html">
   4. Review of Python and pandas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-5-before-and-after.html">
   5. Before and After
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-6-single-table-verbs.html">
   6. Single-Table Verbs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-7-abstraction.html">
   7. Abstraction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-8-version-control.html">
   8. Version Control
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-9-math-and-stats.html">
   9. Mathematics and Statistics in Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-10-visualization.html">
   10. Visualization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-11-processing-rows.html">
   11. Processing the Rows of a DataFrame
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-12-concat-and-merge.html">
   12. Concatenating and Merging DataFrames
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-13-etl.html">
   13. Miscellaneous Munging Methods (ETL)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-14-dashboards.html">
   14. Dashboards
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-15-networks.html">
   15. Relations as Graphs - Network Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-16-matrices.html">
   16. Relations as Matrices
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-17-machine-learning.html">
   17. Introduction to Machine Learning
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Appendices
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="course-schedule.html">
   1. Detailed Course Schedule
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   2. Big Cheat Sheet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="anaconda-installation.html">
   3. Anaconda Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="vs-code-installation.html">
   4. VS Code for Python Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="GB213-review-in-Python.html">
   5. GB213 Review in Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="loyo-list.html">
   6. All Learning On Your Own Opportunities
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="bigpic-list.html">
   7. All Big Picture Concepts
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/big-cheat-sheet.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/nathancarter/MA346-course-notes/master?urlpath=tree/big-cheat-sheet.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#before-day-2-review-of-cs230">
   2.1. Before Day 2: Review of CS230
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#introduction-to-python-optional-basic-review">
     2.1.1. Introduction to Python (optional, basic review)
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-1-python-basics">
       2.1.1.1. Chapter 1: Python Basics
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-2-python-lists">
       2.1.1.2. Chapter 2: Python Lists
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-3-functions-and-packages">
       2.1.1.3. Chapter 3: Functions and Packages
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-4-numpy">
       2.1.1.4. Chapter 4: NumPy
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#python-data-science-toolbox-part-1-optional-basic-review">
     2.1.2. Python Data Science Toolbox, Part 1 (optional, basic review)
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-1-writing-your-own-functions">
       2.1.2.1. Chapter 1: Writing your own functions
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-2-default-arguments-variable-length-arguments-and-scope">
       2.1.2.2. Chapter 2: Default arguments, variable-length arguments, and scope
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-3-lambda-functions-and-error-handling">
       2.1.2.3. Chapter 3: Lambda functions and error handling
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#intermediate-python-required-review">
     2.1.3. Intermediate Python (required review)
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-1-matplotlib">
       2.1.3.1. Chapter 1: Matplotlib
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-2-dictionaries-pandas">
       2.1.3.2. Chapter 2: Dictionaries &amp; Pandas
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-3-logic-control-flow-and-filtering">
       2.1.3.3. Chapter 3: Logic, Control Flow, and Filtering
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-4-loops">
       2.1.3.4. Chapter 4: Loops
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pandas-foundations-required-review">
     2.1.4. pandas Foundations (required review)
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-1-data-ingestion-inspection">
       2.1.4.1. Chapter 1: Data ingestion &amp; inspection
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#manipulating-dataframes-with-pandas-required-review">
     2.1.5. Manipulating DataFrames with pandas (required review)
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-1-extracting-and-transforming-data">
       2.1.5.1. Chapter 1: Extracting and transforming data
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#before-day-3">
   2.2. Before Day 3
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#manipulating-dataframes-with-pandas">
     2.2.1. Manipulating DataFrames with pandas
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-2-advanced-indexing">
       2.2.1.1. Chapter 2: Advanced indexing
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-3-rearranging-and-reshaping-data">
       2.2.1.2. Chapter 3: Rearranging and reshaping data
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-4-grouping-data">
       2.2.1.3. Chapter 4: Grouping data
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#before-day-4-review-of-visualization-in-cs230">
   2.3. Before Day 4: Review of Visualization in CS230
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pandas-foundations">
     2.3.1. pandas Foundations
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-2-exploratory-data-analysis">
       2.3.1.1. Chapter 2: Exploratory data analysis
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#before-day-5">
   2.4. Before Day 5
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#intermediate-python">
     2.4.1. Intermediate Python
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-5-case-study-hacker-statistics">
       2.4.1.1. Chapter 5: Case Study: Hacker Statistics
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#statistical-thinking-in-python-part-1">
     2.4.2. Statistical Thinking in Python, Part 1
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-1-graphical-exploratory-data-analysis">
       2.4.2.1. Chapter 1: Graphical Exploratory Data Analysis
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-2-quantitative-exploratory-data-analysis">
       2.4.2.2. Chapter 2: Quantitative Exploratory Data Analysis
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-3-thinking-probabalistically-discrete-variables">
       2.4.2.3. Chapter 3: Thinking probabalistically–Discrete variables
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-4-thinking-probabalistically-continuous-variables">
       2.4.2.4. Chapter 4: Thinking probabalistically–Continuous variables
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#introduction-to-data-visualization-with-python">
     2.4.3. Introduction to Data Visualization with Python
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-1-customizing-plots">
       2.4.3.1. Chapter 1: Customizing Plots
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-3-statistical-plots-with-seaborn">
       2.4.3.2. Chapter 3: Statistical plots with Seaborn
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#before-day-6">
   2.5. Before Day 6
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#merging-dataframes-with-pandas">
     2.5.1. Merging DataFrames with pandas
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-1-preparing-data">
       2.5.1.1. Chapter 1: Preparing data
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-2-concatenating-data">
       2.5.1.2. Chapter 2: Concatenating data
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#chapter-3-merging-data">
     2.5.2. Chapter 3: Merging data
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#before-day-8">
   2.6. Before Day 8
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#streamlined-data-ingestion-with-pandas">
     2.6.1. Streamlined Data Ingestion with pandas
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-1-importing-data-from-flat-files">
       2.6.1.1. Chapter 1: Importing Data from Flat Files
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-2-importing-data-from-excel-files">
       2.6.1.2. Chapter 2: Importing Data from Excel Files
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-3-importing-data-from-databases">
       2.6.1.3. Chapter 3: Importing Data from Databases
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-4-importing-json-data-and-working-with-apis">
       2.6.1.4. Chapter 4: Importing JSON Data and Working with APIs
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#before-day-9">
   2.7. Before Day 9
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#introduction-to-sql">
     2.7.1. Introduction to SQL
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-1-selecting-columns">
       2.7.1.1. Chapter 1: Selecting columns
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-2-filtering-rows">
       2.7.1.2. Chapter 2: Filtering rows
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-3-aggregate-functions">
       2.7.1.3. Chapter 3: Aggregate Functions
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-4-sorting-and-grouping">
       2.7.1.4. Chapter 4: Sorting and grouping
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#additional-useful-references">
   2.8. Additional Useful References
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#python-data-science-toolbox-part-2">
     2.8.1. Python Data Science Toolbox, Part 2
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-1-using-iterators-in-pythonland">
       2.8.1.1. Chapter 1: Using iterators in PythonLand
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-2-list-comprehensions-and-generators">
       2.8.1.2. Chapter 2: List comprehensions and generators
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     2.8.2. Introduction to Data Visualization with Python
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#chapter-2-plotting-2d-arrays">
       2.8.2.1. Chapter 2: Plotting 2D arrays
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="big-cheat-sheet">
<h1><span class="section-number">2. </span>Big Cheat Sheet<a class="headerlink" href="#big-cheat-sheet" title="Permalink to this headline">¶</a></h1>
<p>This file summarizes all the coding concepts learned from DataCamp in MA346, as well as those learned in CS230 that remain important in MA346.  It is broken into sections in the order in which we encounter the topics in the course, and the course schedule on <a class="reference internal" href="intro.html"><span class="doc std std-doc">the main page</span></a> links to each section from the day on which it’s learned.</p>
<hr class="docutils" />
<div class="section" id="before-day-2-review-of-cs230">
<h2><span class="section-number">2.1. </span>Before Day 2: Review of CS230<a class="headerlink" href="#before-day-2-review-of-cs230" title="Permalink to this headline">¶</a></h2>
<div class="section" id="introduction-to-python-optional-basic-review">
<h3><span class="section-number">2.1.1. </span><a class="reference external" href="https://www.datacamp.com/courses/intro-to-python-for-data-science">Introduction to Python</a> (optional, basic review)<a class="headerlink" href="#introduction-to-python-optional-basic-review" title="Permalink to this headline">¶</a></h3>
<div class="section" id="chapter-1-python-basics">
<h4><span class="section-number">2.1.1.1. </span>Chapter 1: Python Basics<a class="headerlink" href="#chapter-1-python-basics" title="Permalink to this headline">¶</a></h4>
<p>Comments, which are not executed:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Start with a hash, then explain your code.</span>
</pre></div>
</div>
<p>Print simple data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">5</span> <span class="p">)</span>
</pre></div>
</div>
<p>Storing data in a variable:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">num_friends</span> <span class="o">=</span> <span class="mi">1000</span>
</pre></div>
</div>
<p>Integers and real numbers (“floating point”):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">3192</span><span class="p">,</span> <span class="mf">16.51309</span><span class="p">,</span> <span class="mf">0.003</span>
</pre></div>
</div>
<p>Strings:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;You can use double quotes.&quot;</span>
<span class="s1">&#39;You can use single quotes.&#39;</span>
<span class="s1">&#39;Don</span><span class="se">\&#39;</span><span class="s1">t forget backslashes when needed.&#39;</span>
</pre></div>
</div>
<p>Booleans:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span>
</pre></div>
</div>
<p>Asking Python for the type of a piece of data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span> <span class="mi">5</span> <span class="p">),</span> <span class="nb">type</span><span class="p">(</span> <span class="s2">&quot;example&quot;</span> <span class="p">),</span> <span class="nb">type</span><span class="p">(</span> <span class="n">my_data</span> <span class="p">)</span>
</pre></div>
</div>
<p>Converting among data types:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">str</span><span class="p">(</span> <span class="mi">5</span> <span class="p">),</span> <span class="nb">int</span><span class="p">(</span> <span class="s2">&quot;-120&quot;</span> <span class="p">),</span> <span class="nb">float</span><span class="p">(</span> <span class="s2">&quot;0.5629&quot;</span> <span class="p">)</span>
</pre></div>
</div>
<p>Basic arithmetic (<span class="math notranslate nohighlight">\(+\)</span>, <span class="math notranslate nohighlight">\(-\)</span>, <span class="math notranslate nohighlight">\(\times\)</span>, <span class="math notranslate nohighlight">\(\div\)</span>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Exponents, integer division, and remainders:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="o">**</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span> <span class="o">%</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-2-python-lists">
<h4><span class="section-number">2.1.1.2. </span>Chapter 2: Python Lists<a class="headerlink" href="#chapter-2-python-lists" title="Permalink to this headline">¶</a></h4>
<p>Create a list with square brackets:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">small_primes</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">23</span> <span class="p">]</span>
</pre></div>
</div>
<p>Lists can mix data of any type, even other lists:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sublists are name, age, height (in m)</span>
<span class="n">heroes</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span> <span class="s1">&#39;Harry Potter&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mf">1.3</span> <span class="p">],</span>
           <span class="p">[</span> <span class="s1">&#39;Ron Weasley&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mf">1.5</span> <span class="p">],</span>
           <span class="p">[</span> <span class="s1">&#39;Hermione Granger&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mf">1.4</span> <span class="p">]</span> <span class="p">]</span>
</pre></div>
</div>
<p>Accessing elements from the list is zero-based:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">small_primes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>   <span class="c1"># == 2</span>
<span class="n">small_primes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># == 23</span>
</pre></div>
</div>
<p>Slicing lists is left-inclusive, right-exclusive:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">small_primes</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="c1"># == [5,7]</span>
<span class="n">small_primes</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>  <span class="c1"># == [2,3,5,7]</span>
<span class="n">small_primes</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span>  <span class="c1"># == [11,13,17,19,23]</span>
</pre></div>
</div>
<p>It can even use a “stride” to count by something other than one:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">small_primes</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">7</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>     <span class="c1"># selects items 0,2,4,6</span>
<span class="n">small_primes</span><span class="p">[::</span><span class="mi">3</span><span class="p">]</span>       <span class="c1"># selects items 0,3,6</span>
<span class="n">small_primes</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>      <span class="c1"># selects all, but in reverse</span>
</pre></div>
</div>
<p>If indexing gives you a list, you can index again:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">heroes</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>        <span class="c1"># == &#39;Ron Weasley&#39;</span>
</pre></div>
</div>
<p>Modify an item in a list, or a slice all at once:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">some_list</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">some_list</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;my&#39;</span><span class="p">,</span> <span class="s1">&#39;new&#39;</span><span class="p">,</span> <span class="s1">&#39;entries&#39;</span> <span class="p">]</span>
</pre></div>
</div>
<p>Adding or removing entries from a list:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">small_primes</span> <span class="o">+=</span> <span class="p">[</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">31</span> <span class="p">]</span>
<span class="n">small_primes</span> <span class="o">=</span> <span class="n">small_primes</span> <span class="o">+</span> <span class="p">[</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">41</span> <span class="p">]</span>
<span class="n">small_primes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="mi">43</span> <span class="p">)</span>  <span class="c1"># to add just one entry</span>
<span class="k">del</span><span class="p">(</span> <span class="n">heroes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span>    <span class="c1"># Voldemort&#39;s goal</span>
<span class="k">del</span><span class="p">(</span> <span class="n">heroes</span><span class="p">[:]</span> <span class="p">)</span>    <span class="c1"># or, even better, this</span>
</pre></div>
</div>
<p>Copying or not copying lists:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># L will refer to the same list in memory as heroes:</span>
<span class="n">L</span> <span class="o">=</span> <span class="n">heroes</span>
<span class="c1"># M will refer to a full copy of the heroes array:</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">heroes</span><span class="p">[:]</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-3-functions-and-packages">
<h4><span class="section-number">2.1.1.3. </span>Chapter 3: Functions and Packages<a class="headerlink" href="#chapter-3-functions-and-packages" title="Permalink to this headline">¶</a></h4>
<p>Calling a function and saving the result:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">lastSmallPrime</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span> <span class="n">small_primes</span> <span class="p">)</span>
</pre></div>
</div>
<p>Getting help on a function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span> <span class="nb">max</span> <span class="p">)</span>
</pre></div>
</div>
<p>Methods are functions that belong to an object.  (In Python, every piece of data is an object.)</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;jerry&#39;</span>
<span class="n">name</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span>             <span class="c1"># == &#39;Jerry&#39;</span>
<span class="n">name</span><span class="o">.</span><span class="n">count</span><span class="p">(</span> <span class="s1">&#39;r&#39;</span> <span class="p">)</span>             <span class="c1"># == 2</span>
<span class="n">flavors</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;vanilla&#39;</span><span class="p">,</span> <span class="s1">&#39;chocolate&#39;</span><span class="p">,</span> <span class="s1">&#39;strawberry&#39;</span> <span class="p">]</span>
<span class="n">flavors</span><span class="o">.</span><span class="n">index</span><span class="p">(</span> <span class="s1">&#39;chocolate&#39;</span> <span class="p">)</span>  <span class="c1"># == 1</span>
</pre></div>
</div>
<p>Installing a package from conda:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda install package_name
</pre></div>
</div>
<p>Ensuring conda forge packages are available:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda config --add channels conda-forge
</pre></div>
</div>
<p>Installing a package from pip:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip3 install package_name
</pre></div>
</div>
<p>Importing a package and using its contents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="p">)</span>
<span class="c1"># or if you&#39;ll use it a lot and want to be brief:</span>
<span class="kn">import</span> <span class="nn">math</span> <span class="k">as</span> <span class="nn">M</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">M</span><span class="o">.</span><span class="n">pi</span> <span class="p">)</span>
</pre></div>
</div>
<p>Importing just some functions from a package:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">pi</span><span class="p">,</span> <span class="n">degrees</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;The value of pi in degrees is:&quot;</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">degrees</span><span class="p">(</span> <span class="n">pi</span> <span class="p">)</span> <span class="p">)</span>        <span class="c1"># == 180.0</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-4-numpy">
<h4><span class="section-number">2.1.1.4. </span>Chapter 4: NumPy<a class="headerlink" href="#chapter-4-numpy" title="Permalink to this headline">¶</a></h4>
<p>Creating NumPy arrays from Python lists:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span> <span class="p">[</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">9</span> <span class="p">]</span> <span class="p">)</span>
</pre></div>
</div>
<p>Elementise computations are supported:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">*</span> <span class="mi">2</span>       <span class="c1"># == [ 10, 20, 12, 6, 18 ]</span>
<span class="n">a</span> <span class="o">&lt;</span> <span class="mi">10</span>      <span class="c1"># == [ True, False, True, True, True ]</span>
</pre></div>
</div>
<p>Use comparisons to subset/select:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="n">a</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">]</span>   <span class="c1"># == [ 5, 6, 3, 9 ]</span>
</pre></div>
</div>
<p>Note: NumPy arrays don’t permit mixing data types:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;hi&quot;</span> <span class="p">]</span> <span class="p">)</span>  <span class="c1"># converts all to strings</span>
</pre></div>
</div>
<p>NumPy arrays can be 2d, 3d, etc.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">],</span>
                <span class="p">[</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span> <span class="p">]</span> <span class="p">]</span> <span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">shape</span>     <span class="c1"># == (2,4)</span>
</pre></div>
</div>
<p>You can index/select with comma notation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>      <span class="c1"># == 8</span>
<span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># == [[1,2],[5,6]]</span>
<span class="n">a</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span>      <span class="c1"># == [3,7]</span>
<span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">,:]</span>      <span class="c1"># == [1,2,3,4]</span>
</pre></div>
</div>
<p>Fast NumPy versions of Python functions, and some new ones:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span> <span class="n">a</span> <span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span> <span class="n">a</span> <span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span> <span class="n">a</span> <span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span> <span class="n">a</span> <span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span> <span class="n">a</span> <span class="p">)</span>
<span class="c1"># and others</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="python-data-science-toolbox-part-1-optional-basic-review">
<h3><span class="section-number">2.1.2. </span><a class="reference external" href="https://www.datacamp.com/courses/python-data-science-toolbox-part-1">Python Data Science Toolbox, Part 1</a> (optional, basic review)<a class="headerlink" href="#python-data-science-toolbox-part-1-optional-basic-review" title="Permalink to this headline">¶</a></h3>
<div class="section" id="chapter-1-writing-your-own-functions">
<h4><span class="section-number">2.1.2.1. </span>Chapter 1: Writing your own functions<a class="headerlink" href="#chapter-1-writing-your-own-functions" title="Permalink to this headline">¶</a></h4>
<p>Tuples are like lists, but use parentheses, and are immutable.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span> <span class="p">)</span>        <span class="c1"># create a tuple</span>
<span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>                   <span class="c1"># == 6</span>
<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">t</span>            <span class="c1"># a==6, b==1, c==7</span>
</pre></div>
</div>
<p>Syntax for defining a function:</p>
<p>(A function that modifies any global variables needs the Python <code class="docutils literal notranslate"><span class="pre">global</span></code> keyword inside to identify those variables.)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">function_name</span> <span class="p">(</span> <span class="n">arguments</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Write a docstring describing the function.&quot;&quot;&quot;</span>
    <span class="c1"># do some things here.</span>
    <span class="c1"># note the indentation!</span>
    <span class="c1"># and optionally:</span>
    <span class="k">return</span> <span class="n">some_value</span>
    <span class="c1"># to return multiple values: return v1, v2</span>
</pre></div>
</div>
<p>Syntax for calling a function:</p>
<p>(Note the distinction between “arguments”  and “parameters.”)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># if you do not care about a return value:</span>
<span class="n">function_name</span><span class="p">(</span> <span class="n">parameters</span> <span class="p">)</span>
<span class="c1"># if you wish to store the return value:</span>
<span class="n">my_variable</span> <span class="o">=</span> <span class="n">function_name</span><span class="p">(</span> <span class="n">parameters</span> <span class="p">)</span>
<span class="c1"># if the function returns multiple values:</span>
<span class="n">var1</span><span class="p">,</span> <span class="n">var2</span> <span class="o">=</span> <span class="n">function_name</span><span class="p">(</span> <span class="n">parameters</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-2-default-arguments-variable-length-arguments-and-scope">
<h4><span class="section-number">2.1.2.2. </span>Chapter 2: Default arguments, variable-length arguments, and scope<a class="headerlink" href="#chapter-2-default-arguments-variable-length-arguments-and-scope" title="Permalink to this headline">¶</a></h4>
<p>Defining nested functions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">multiply_by</span> <span class="p">(</span> <span class="n">x</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates a function that multiplies by x&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">result</span> <span class="p">(</span> <span class="n">y</span> <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Multiplies x by y&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
    <span class="k">return</span> <span class="n">result</span>
<span class="c1"># example usage:</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;height_in_inches&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
    <span class="n">multiply_by</span><span class="p">(</span> <span class="mf">2.54</span> <span class="p">)</span> <span class="p">)</span>  <span class="c1"># result is now in cm</span>
</pre></div>
</div>
<p>Providing default values for arguments:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">rand_between</span> <span class="p">(</span> <span class="n">a</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">1</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Gives a random float between a and b&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span> <span class="n">b</span> <span class="o">-</span> <span class="n">a</span> <span class="p">)</span> <span class="o">+</span> <span class="n">a</span>
</pre></div>
</div>
<p>Accepting any number of arguments:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">commas_between</span> <span class="p">(</span> <span class="o">*</span><span class="n">args</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns the args as a string with commas&quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">+=</span> <span class="s2">&quot;, &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
<span class="n">commas_between</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;hi&quot;</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>    <span class="c1"># == &quot;1,hi,7&quot;</span>
</pre></div>
</div>
<p>Accepting a dictionary of arguments:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">inverted</span> <span class="p">(</span> <span class="o">**</span><span class="n">kwargs</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Interchanges keys and values in a dict&quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">result</span><span class="p">[</span><span class="n">value</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>
    <span class="k">return</span> <span class="n">result</span>
<span class="n">inverted</span><span class="p">(</span> <span class="n">jim</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">angie</span><span class="o">=</span><span class="mi">9</span> <span class="p">)</span>
        <span class="c1"># == { 42 : &#39;jim&#39;, 9 : &#39;angie&#39; }</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-3-lambda-functions-and-error-handling">
<h4><span class="section-number">2.1.2.3. </span>Chapter 3: Lambda functions and error handling<a class="headerlink" href="#chapter-3-lambda-functions-and-error-handling" title="Permalink to this headline">¶</a></h4>
<p>Anonymous functions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">:</span> <span class="n">return_value_here</span>
<span class="c1"># example:</span>
<span class="k">lambda</span> <span class="n">k</span><span class="p">:</span> <span class="n">k</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>    <span class="c1"># detects whether k is even</span>
</pre></div>
</div>
<p>Some examples in which anonymous functions are useful:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span> <span class="nb">map</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">k</span><span class="p">:</span> <span class="n">k</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span>
                   <span class="c1"># == [False,True,False,True,False]</span>
<span class="nb">list</span><span class="p">(</span> <span class="nb">filter</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">k</span><span class="p">:</span> <span class="n">k</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span>
                   <span class="c1"># == [2,4]</span>
<span class="n">reduce</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span> <span class="p">)</span>
                   <span class="c1"># == 120 (1*2*3*4*5)</span>
</pre></div>
</div>
<p>Raising errors if users call your functions incorrectly:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># You can detect problems in advance:</span>
<span class="k">def</span> <span class="nf">factorial</span> <span class="p">(</span> <span class="n">n</span> <span class="p">):</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span> <span class="n">n</span> <span class="p">)</span> <span class="o">!=</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span> <span class="s2">&quot;n must be an int&quot;</span> <span class="p">)</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span> <span class="s2">&quot;n must be nonnegative&quot;</span> <span class="p">)</span>
    <span class="k">return</span> <span class="n">reduce</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span> <span class="p">)</span> <span class="p">)</span>

<span class="c1"># Or you can let Python detect them:</span>
<span class="k">def</span> <span class="nf">solve_equation</span> <span class="p">(</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Solves a*x+b=0 for x&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="o">-</span><span class="n">b</span> <span class="o">/</span> <span class="n">a</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
<span class="n">solve_equation</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span>    <span class="c1"># == 0.5</span>
<span class="n">solve_equation</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span> <span class="p">)</span>     <span class="c1"># == None</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="intermediate-python-required-review">
<h3><span class="section-number">2.1.3. </span><a class="reference external" href="https://www.datacamp.com/courses/intermediate-python-for-data-science">Intermediate Python</a> (required review)<a class="headerlink" href="#intermediate-python-required-review" title="Permalink to this headline">¶</a></h3>
<div class="section" id="chapter-1-matplotlib">
<h4><span class="section-number">2.1.3.1. </span>Chapter 1: Matplotlib<a class="headerlink" href="#chapter-1-matplotlib" title="Permalink to this headline">¶</a></h4>
<p>Conventional way to import matplotlib:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
<p>Creating a line plot:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x_data</span><span class="p">,</span> <span class="n">y_data</span> <span class="p">)</span>     <span class="c1"># create plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                     <span class="c1"># display plot</span>
</pre></div>
</div>
<p>Creating a scatter plot:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">x_data</span><span class="p">,</span> <span class="n">y_data</span> <span class="p">)</span>  <span class="c1"># create plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                     <span class="c1"># display plot</span>
<span class="c1"># or this alternative form:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x_data</span><span class="p">,</span> <span class="n">y_data</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Labeling axes and adding title:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span> <span class="s1">&#39;x axis label here&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span> <span class="s1">&#39;y axis label here&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span> <span class="s1">&#39;Title of Plot&#39;</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-2-dictionaries-pandas">
<h4><span class="section-number">2.1.3.2. </span>Chapter 2: Dictionaries &amp; Pandas<a class="headerlink" href="#chapter-2-dictionaries-pandas" title="Permalink to this headline">¶</a></h4>
<p>Creating a dictionary directly:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">days_in_month</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;january&quot;</span>  <span class="p">:</span> <span class="mi">31</span><span class="p">,</span>
    <span class="s2">&quot;february&quot;</span> <span class="p">:</span> <span class="mi">28</span><span class="p">,</span>
    <span class="s2">&quot;march&quot;</span>    <span class="p">:</span> <span class="mi">31</span><span class="p">,</span>
    <span class="s2">&quot;april&quot;</span>    <span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
    <span class="c1"># and so on, until...</span>
    <span class="s2">&quot;december&quot;</span> <span class="p">:</span> <span class="mi">31</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Getting and using keys:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">days_in_month</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>    <span class="c1"># == [&quot;january&quot;,</span>
                        <span class="c1">#     &quot;february&quot;,...]</span>
<span class="n">days_in_month</span><span class="p">[</span><span class="s2">&quot;april&quot;</span><span class="p">]</span>  <span class="c1"># == 30</span>
</pre></div>
</div>
<p>Updating dictionary and checking membership:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">days_in_month</span><span class="p">[</span><span class="s2">&quot;february&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">29</span>   <span class="c1"># update for 2020</span>
<span class="s2">&quot;tuesday&quot;</span> <span class="ow">in</span> <span class="n">days_in_month</span>       <span class="c1"># == False</span>
<span class="n">days_in_month</span><span class="p">[</span><span class="s2">&quot;tuesday&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>     <span class="c1"># a mistake</span>
<span class="s2">&quot;tuesday&quot;</span> <span class="ow">in</span> <span class="n">days_in_month</span>       <span class="c1"># == True</span>
<span class="k">del</span><span class="p">(</span> <span class="n">days_in_month</span><span class="p">[</span><span class="s2">&quot;tuesday&quot;</span><span class="p">]</span> <span class="p">)</span>  <span class="c1"># delete mistake</span>
<span class="s2">&quot;tuesday&quot;</span> <span class="ow">in</span> <span class="n">days_in_month</span>       <span class="c1"># == False</span>
</pre></div>
</div>
<p>Build manually from dictionary:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span> <span class="p">{</span>
    <span class="s2">&quot;column label 1&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;this example uses...&quot;</span><span class="p">,</span>
        <span class="s2">&quot;string data here.&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;column label 2&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mf">100.65</span><span class="p">,</span>  <span class="c1"># and numerical data</span>
        <span class="o">-</span><span class="mf">92.04</span>   <span class="c1"># here, for example</span>
    <span class="p">]</span>
    <span class="c1"># and more columns if needed</span>
<span class="p">}</span> <span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;put your...&quot;</span><span class="p">,</span>
    <span class="s2">&quot;row labels here.&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Import from CSV file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># if row and column headers are in first row/column:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;/path/to/file.csv&quot;</span><span class="p">,</span>
                  <span class="n">index_col</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">)</span>
<span class="c1"># if no row headers:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;/path/to/file.csv&quot;</span> <span class="p">)</span>
</pre></div>
</div>
<p>Indexing and selecting data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;column name&quot;</span><span class="p">]</span>    <span class="c1"># is a &quot;Series&quot; (labeled column)</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;column name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
                     <span class="c1"># extract just its values</span>
<span class="n">df</span><span class="p">[[</span><span class="s2">&quot;column name&quot;</span><span class="p">]]</span>  <span class="c1"># is a 1-column dataframe</span>
<span class="n">df</span><span class="p">[[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span><span class="s2">&quot;col2&quot;</span><span class="p">]]</span>  <span class="c1"># is a 2-column dataframe</span>
<span class="n">df</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">m</span><span class="p">]</span>              <span class="c1"># slice of rows, a dataframe</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;row name&quot;</span><span class="p">]</span>   <span class="c1"># is a &quot;Series&quot; (labeled column)</span>
                     <span class="c1"># yes, the row becomes a column</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s2">&quot;row name&quot;</span><span class="p">]]</span> <span class="c1"># 1-row dataframe</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s2">&quot;r1&quot;</span><span class="p">,</span><span class="s2">&quot;r2&quot;</span><span class="p">,</span><span class="s2">&quot;r3&quot;</span><span class="p">]]</span>
                     <span class="c1"># 3-row dataframe</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s2">&quot;r1&quot;</span><span class="p">,</span><span class="s2">&quot;r2&quot;</span><span class="p">,</span><span class="s2">&quot;r3&quot;</span><span class="p">],:]</span>
                     <span class="c1"># same as previous</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,[</span><span class="s2">&quot;c1&quot;</span><span class="p">,</span><span class="s2">&quot;c2&quot;</span><span class="p">,</span><span class="s2">&quot;c3&quot;</span><span class="p">]]</span>
                     <span class="c1"># 3-column dataframe</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s2">&quot;r1&quot;</span><span class="p">,</span><span class="s2">&quot;r2&quot;</span><span class="p">,</span><span class="s2">&quot;r3&quot;</span><span class="p">],[</span><span class="s2">&quot;c1&quot;</span><span class="p">,</span><span class="s2">&quot;c2&quot;</span><span class="p">]]</span>
                     <span class="c1"># 3x2 slice of the dataframe</span>
<span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">5</span><span class="p">]]</span>         <span class="c1"># is a &quot;Series&quot; (labeled column)</span>
                     <span class="c1"># contains the 6th row&#39;s data</span>
<span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]]</span>     <span class="c1"># 3-row dataframe (6th-8th)</span>
<span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">],:]</span>   <span class="c1"># same as previous</span>
<span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">]]</span>     <span class="c1"># 2-column dataframe</span>
<span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">]]</span>
                     <span class="c1"># 3x2 slice of the dataframe</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-3-logic-control-flow-and-filtering">
<h4><span class="section-number">2.1.3.3. </span>Chapter 3: Logic, Control Flow, and Filtering<a class="headerlink" href="#chapter-3-logic-control-flow-and-filtering" title="Permalink to this headline">¶</a></h4>
<p>Python relations work on NumPy arrays and Pandas Series:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="p">,</span> <span class="o">&lt;=</span><span class="p">,</span> <span class="o">&gt;</span><span class="p">,</span> <span class="o">&gt;=</span><span class="p">,</span> <span class="o">==</span><span class="p">,</span> <span class="o">!=</span>
</pre></div>
</div>
<p>Logical operators can combine the above relations:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ow">and</span><span class="p">,</span> <span class="ow">or</span><span class="p">,</span> <span class="ow">not</span>          <span class="c1"># use these on booleans</span>
<span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>   <span class="c1"># use these on numpy arrays</span>
<span class="n">np</span><span class="o">.</span><span class="n">logical_or</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>    <span class="c1"># (assuming you have imported</span>
<span class="n">np</span><span class="o">.</span><span class="n">logical_not</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>     <span class="c1"># numpy as np)</span>
</pre></div>
</div>
<p>Filtering Pandas DataFrames:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">series</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;column&quot;</span><span class="p">]</span>
<span class="nb">filter</span> <span class="o">=</span> <span class="n">series</span> <span class="o">&gt;</span> <span class="n">some_number</span>
<span class="n">df</span><span class="p">[</span><span class="nb">filter</span><span class="p">]</span>  <span class="c1"># new dataframe, a subset of the rows</span>
<span class="c1"># or all at once:</span>
<span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;column&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">some_number</span><span class="p">]</span>
<span class="c1"># combining multiple conditions:</span>
<span class="n">df</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;population&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">5000</span><span class="p">,</span>
                   <span class="n">df</span><span class="p">[</span><span class="s2">&quot;area&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">1250</span> <span class="p">)]</span>
</pre></div>
</div>
<p>Conditional statements:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Take an action if a condition is true:</span>
<span class="k">if</span> <span class="n">put_condition_here</span><span class="p">:</span>
    <span class="n">take_an_action</span><span class="p">()</span>
<span class="c1"># Take a different action if the condition is false:</span>
<span class="k">if</span> <span class="n">put_condition_here</span><span class="p">:</span>
    <span class="n">take_an_action</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">do_this_instead</span><span class="p">()</span>
<span class="c1"># Consider multiple conditions:</span>
<span class="k">if</span> <span class="n">put_condition_here</span><span class="p">:</span>
    <span class="n">take_an_action</span><span class="p">()</span>
<span class="k">elif</span> <span class="n">other_condition_here</span><span class="p">:</span>
    <span class="n">do_this_instead</span><span class="p">()</span>
<span class="k">elif</span> <span class="n">yet_another_condition</span><span class="p">:</span>
    <span class="n">do_this_instead2</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">finally_this</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-4-loops">
<h4><span class="section-number">2.1.3.4. </span>Chapter 4: Loops<a class="headerlink" href="#chapter-4-loops" title="Permalink to this headline">¶</a></h4>
<p>Looping constructs:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="n">some_condition</span><span class="p">:</span>
    <span class="n">do_this_repeatedly</span><span class="p">()</span>
    <span class="c1"># as many lines of code here as you like.</span>
    <span class="c1"># note that indentation is crucial!</span>
    <span class="c1"># be sure to work towards some_condition</span>
    <span class="c1"># becoming false eventually!</span>

<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">my_list</span><span class="p">:</span>
    <span class="n">do_something_with</span><span class="p">(</span> <span class="n">item</span> <span class="p">)</span>

<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span> <span class="n">my_list</span> <span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;item &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">+</span>
           <span class="s2">&quot; is &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="p">)</span>

<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">my_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;key &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">+</span>
           <span class="s2">&quot; has value &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="p">)</span>

<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">my_numpy_array</span><span class="p">:</span>
    <span class="c1"># works if the array is one-dimensional</span>
    <span class="nb">print</span><span class="p">(</span> <span class="n">item</span> <span class="p">)</span>

<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">nditer</span><span class="p">(</span> <span class="n">my_numpy_array</span> <span class="p">):</span>
    <span class="c1"># if it is 2d, 3d, or more</span>
    <span class="nb">print</span><span class="p">(</span> <span class="n">item</span> <span class="p">)</span>

<span class="k">for</span> <span class="n">column_name</span> <span class="ow">in</span> <span class="n">my_dataframe</span><span class="p">:</span>
    <span class="n">work_with</span><span class="p">(</span> <span class="n">my_dataframe</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="p">)</span>

<span class="k">for</span> <span class="n">row_name</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">my_dataframe</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;row &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">row_name</span><span class="p">)</span> <span class="o">+</span>
           <span class="s2">&quot; has these entries: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="p">)</span>

<span class="c1"># in dataframes, sometimes you can skip the for loop:</span>
<span class="n">my_dataframe</span><span class="p">[</span><span class="s2">&quot;column&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span> <span class="n">function</span> <span class="p">)</span>  <span class="c1"># a Series</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pandas-foundations-required-review">
<h3><span class="section-number">2.1.4. </span><a class="reference external" href="https://www.datacamp.com/courses/pandas-foundations">pandas Foundations</a> (required review)<a class="headerlink" href="#pandas-foundations-required-review" title="Permalink to this headline">¶</a></h3>
<div class="section" id="chapter-1-data-ingestion-inspection">
<h4><span class="section-number">2.1.4.1. </span>Chapter 1: Data ingestion &amp; inspection<a class="headerlink" href="#chapter-1-data-ingestion-inspection" title="Permalink to this headline">¶</a></h4>
<p>Basic DataFrame/Series tools:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>           <span class="c1"># first five rows</span>
<span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>           <span class="c1"># last five rows</span>
<span class="n">series</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>       <span class="c1"># head, tail also work on series</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>            <span class="c1"># summary of the data types used</span>
</pre></div>
</div>
<p>Adding details to reading DataFrames from CSV files:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># if no column headers:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;/path/to/file.csv&quot;</span><span class="p">,</span>
                  <span class="n">index_col</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;column&#39;</span><span class="p">,</span><span class="s1">&#39;names&#39;</span><span class="p">,</span><span class="s1">&#39;here&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="c1"># if any missing data you want to mark as NaN:</span>
<span class="c1"># (na_values can be a list of patterns,</span>
<span class="c1"># or a dict mapping column names to patterns/lists)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;/path/to/file.csv&quot;</span><span class="p">,</span>
                  <span class="n">na_values</span> <span class="o">=</span> <span class="s1">&#39;pattern to replace&#39;</span> <span class="p">)</span>
<span class="c1"># and many other options!  (see the documentation)</span>
</pre></div>
</div>
<p>To get a DataFrame with a date/time index:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># read as dates any columns that pandas can:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;/path/to/file.csv&quot;</span><span class="p">,</span>
                  <span class="n">parse_dates</span> <span class="o">=</span> <span class="kc">True</span> <span class="p">)</span>
<span class="c1"># read as dates just the columns you specify:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;/path/to/file.csv&quot;</span><span class="p">,</span>
                  <span class="n">parse_dates</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;column&#39;</span><span class="p">,</span><span class="s1">&#39;names&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="c1"># to use one of those columns as a date/time index:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;/path/to/file.csv&quot;</span><span class="p">,</span>
                  <span class="n">parse_dates</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                  <span class="n">index_col</span> <span class="o">=</span> <span class="s1">&#39;Date&#39;</span> <span class="p">)</span>
<span class="c1"># combine multiple columns to form a date:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;/path/to/file.csv&quot;</span><span class="p">,</span>
                  <span class="n">parse_dates</span> <span class="o">=</span> <span class="p">[[</span><span class="n">column</span><span class="p">,</span><span class="n">indices</span><span class="p">]]</span> <span class="p">)</span>
</pre></div>
</div>
<p>Export to CSV or XLSX file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span> <span class="s2">&quot;/path/to/output_file.csv&quot;</span> <span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span> <span class="s2">&quot;/path/to/output_file.xlsx&quot;</span> <span class="p">)</span>
</pre></div>
</div>
<p>You can also create a plot from a <code class="docutils literal notranslate"><span class="pre">Series</span></code> or dataframe:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>            <span class="c1"># or series.plot()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="c1"># or to show each column in a subplot:</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">subplots</span> <span class="o">=</span> <span class="kc">True</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="c1"># or to plot certain columns:</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;col name&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;other col name&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>A few small ways to customize plots:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">xscale</span><span class="p">(</span> <span class="s1">&#39;log&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span> <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span> <span class="p">]</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
</pre></div>
</div>
<p>To create a histogram:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span> <span class="n">data</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">10</span> <span class="p">)</span>      <span class="c1"># 10 is the default</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>To “clean up” so you can start a new plot:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">clf</span><span class="p">()</span>
</pre></div>
</div>
<p>Write text onto a plot:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;Text to write&#39;</span> <span class="p">)</span>
</pre></div>
</div>
<p>To save a plot to a file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># before plt.show(), call:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span> <span class="s1">&#39;filename.png&#39;</span> <span class="p">)</span>  <span class="c1"># or .jpg or .pdf</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="manipulating-dataframes-with-pandas-required-review">
<h3><span class="section-number">2.1.5. </span><a class="reference external" href="https://www.datacamp.com/courses/manipulating-dataframes-with-pandas">Manipulating DataFrames with pandas</a> (required review)<a class="headerlink" href="#manipulating-dataframes-with-pandas-required-review" title="Permalink to this headline">¶</a></h3>
<div class="section" id="chapter-1-extracting-and-transforming-data">
<h4><span class="section-number">2.1.5.1. </span>Chapter 1: Extracting and transforming data<a class="headerlink" href="#chapter-1-extracting-and-transforming-data" title="Permalink to this headline">¶</a></h4>
<p>(This builds on the DataCamp Intermediate Python section.)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>     <span class="c1"># select ranges of rows/columns</span>
<span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>       <span class="c1"># select a range, all rows</span>
<span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],:]</span>     <span class="c1"># select a range, all columns</span>
<span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">5</span><span class="p">:,:]</span>        <span class="c1"># all but the first five rows</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">:</span><span class="s1">&#39;B&#39;</span><span class="p">,:]</span>    <span class="c1"># colons can take row names too</span>
                     <span class="c1"># (but include both endpoints)</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;C&#39;</span><span class="p">:</span><span class="s1">&#39;D&#39;</span><span class="p">]</span>    <span class="c1"># ...also column names</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">:</span><span class="s1">&#39;A&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>   <span class="c1"># rows by name, reverse order</span>
</pre></div>
</div>
<p>(This builds on the DataCamp Intermediate Python section.)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># avoid using np.logical_and with &amp; instead:</span>
<span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;population&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">5000</span><span class="p">)</span>
 <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;area&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">1250</span> <span class="p">)]</span>
<span class="c1"># avoid using np.logical_or with | instead:</span>
<span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;population&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">5000</span><span class="p">)</span>
 <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;area&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">1250</span> <span class="p">)]</span>
<span class="c1"># filtering for missing values:</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">df</span><span class="o">.</span><span class="n">all</span><span class="p">()]</span>  <span class="c1"># only columns with no zeroes</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">df</span><span class="o">.</span><span class="n">any</span><span class="p">()]</span>  <span class="c1"># only columns with some nonzero</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">()]</span>
                    <span class="c1"># only columns with a NaN entry</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">df</span><span class="o">.</span><span class="n">notnull</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">()]</span>
                    <span class="c1"># only columns with no NaNs</span>
<span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;any&#39;</span> <span class="p">)</span>
                    <span class="c1"># remove rows with any NaNs</span>
<span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;all&#39;</span> <span class="p">)</span>
                    <span class="c1"># remove rows with all NaNs</span>
</pre></div>
</div>
<p>You can filter one column based on another using these tools.</p>
<p>Apply a function to each value, returning a new DataFrame:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">example</span> <span class="p">(</span> <span class="n">x</span> <span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span> <span class="n">example</span> <span class="p">)</span>   <span class="c1"># adds 1 to everything</span>
<span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">)</span>    <span class="c1"># same</span>
<span class="c1"># some functions are built-in:</span>
<span class="n">df</span><span class="o">.</span><span class="n">floordiv</span><span class="p">(</span> <span class="mi">10</span> <span class="p">)</span>
<span class="c1"># many operators automatically repeat:</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;total pay&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;salary&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;bonus&#39;</span><span class="p">]</span>
<span class="c1"># to extend a dataframe with a new column:</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;new col&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;old col&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span> <span class="n">f</span> <span class="p">)</span>
<span class="c1"># slightly different syntax for the index:</span>
<span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span> <span class="n">f</span> <span class="p">)</span>
</pre></div>
</div>
<p>You can also map columns through <code class="docutils literal notranslate"><span class="pre">dict</span></code>s, not just functions.</p>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="before-day-3">
<h2><span class="section-number">2.2. </span>Before Day 3<a class="headerlink" href="#before-day-3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="manipulating-dataframes-with-pandas">
<h3><span class="section-number">2.2.1. </span><a class="reference external" href="https://learn.datacamp.com/courses/manipulating-dataframes-with-pandas">Manipulating DataFrames with pandas</a><a class="headerlink" href="#manipulating-dataframes-with-pandas" title="Permalink to this headline">¶</a></h3>
<div class="section" id="chapter-2-advanced-indexing">
<h4><span class="section-number">2.2.1.1. </span>Chapter 2: Advanced indexing<a class="headerlink" href="#chapter-2-advanced-indexing" title="Permalink to this headline">¶</a></h4>
<p>Creating a Series:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span> <span class="p">[</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">3.2</span><span class="p">,</span> <span class="mf">1.9</span> <span class="p">]</span> <span class="p">)</span>   <span class="c1"># just data</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span> <span class="p">[</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">3.2</span><span class="p">,</span> <span class="mf">1.9</span> <span class="p">],</span>    <span class="c1"># data with...</span>
  <span class="n">index</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;Mon&#39;</span><span class="p">,</span> <span class="s1">&#39;Tue&#39;</span><span class="p">,</span> <span class="s1">&#39;Wed&#39;</span> <span class="p">]</span> <span class="p">)</span>  <span class="c1"># ...an index</span>
<span class="n">s</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>                          <span class="c1"># sliceable</span>
<span class="n">s</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Day of Week&#39;</span>         <span class="c1"># index name</span>
</pre></div>
</div>
<p>Column headings are also a series:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>                    <span class="c1"># is a pd.Series</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">name</span>               <span class="c1"># usually a string</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span>             <span class="c1"># column names array</span>
</pre></div>
</div>
<p>Using an existing column as the index:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;column name&#39;</span><span class="p">]</span>  <span class="c1"># once it&#39;s the index,</span>
<span class="k">del</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;column name&#39;</span><span class="p">]</span>         <span class="c1"># it can be deleted</span>
</pre></div>
</div>
<p>Making an index from multiple columns that, when taken together, uniquely identify rows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span> <span class="p">[</span> <span class="s1">&#39;last_name&#39;</span><span class="p">,</span> <span class="s1">&#39;first_name&#39;</span> <span class="p">]</span> <span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span>                 <span class="c1"># will be None</span>
<span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span>                <span class="c1"># list of strings</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>          <span class="c1"># hierarchical sort</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="s1">&#39;Jones&#39;</span><span class="p">,</span> <span class="s1">&#39;Heide&#39;</span><span class="p">)]</span>    <span class="c1"># index rows by tuples</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="s1">&#39;Jones&#39;</span><span class="p">,</span> <span class="s1">&#39;Heide&#39;</span><span class="p">),</span>    <span class="c1"># and you can fetch an</span>
       <span class="s1">&#39;birth_date&#39;</span><span class="p">]</span>          <span class="c1"># entry that way, too</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Jones&#39;</span><span class="p">]</span>               <span class="c1"># all rows of Joneses</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Jones&#39;</span><span class="p">:</span><span class="s1">&#39;Menendez&#39;</span><span class="p">]</span>    <span class="c1"># many last names</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[([</span><span class="s1">&#39;Jones&#39;</span><span class="p">,</span><span class="s1">&#39;Wu&#39;</span><span class="p">],</span> <span class="s1">&#39;Heide&#39;</span><span class="p">),</span> <span class="p">:]</span>
      <span class="c1"># get both rows: Heide Jones and Heide Wu</span>
      <span class="c1"># (yes, the colon is necessary for rows)</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[([</span><span class="s1">&#39;Jones&#39;</span><span class="p">,</span><span class="s1">&#39;Wu&#39;</span><span class="p">],</span> <span class="s1">&#39;Heide&#39;</span><span class="p">),</span> <span class="s1">&#39;birth_date&#39;</span><span class="p">]</span>
      <span class="c1"># get Heide Jones&#39;s and Heide Wu&#39;s birth dates</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="s1">&#39;Jones&#39;</span><span class="p">,[</span><span class="s1">&#39;Heide&#39;</span><span class="p">,</span><span class="s1">&#39;Henry&#39;</span><span class="p">]),:]</span>
      <span class="c1"># get full rows for Heide and Henry Jones</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="s1">&#39;Jones&#39;</span><span class="p">,</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;Heide&#39;</span><span class="p">,</span><span class="s1">&#39;Henry&#39;</span><span class="p">)),:]</span>
      <span class="c1"># &#39;Heide&#39;:&#39;Henry&#39; doesn&#39;t work inside tuples</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-3-rearranging-and-reshaping-data">
<h4><span class="section-number">2.2.1.2. </span>Chapter 3: Rearranging and reshaping data<a class="headerlink" href="#chapter-3-rearranging-and-reshaping-data" title="Permalink to this headline">¶</a></h4>
<p>If columns A and B together uniquely identify entries in column C, you can create a new DataFrame showing this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">new_df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span> <span class="n">index</span>   <span class="o">=</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
                   <span class="n">columns</span> <span class="o">=</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span>
                   <span class="n">values</span>  <span class="o">=</span> <span class="s1">&#39;C&#39;</span> <span class="p">)</span>
<span class="c1"># or do this for all columns at once,</span>
<span class="c1"># creating a hierarchical column index:</span>
<span class="n">new_df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span> <span class="n">index</span>   <span class="o">=</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
                   <span class="n">columns</span> <span class="o">=</span> <span class="s1">&#39;B&#39;</span> <span class="p">)</span>
</pre></div>
</div>
<p>You can also invert pivoting, which is called “melting:”</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">old_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span> <span class="n">new_df</span><span class="p">,</span>
    <span class="n">id_vars</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;A&#39;</span> <span class="p">],</span>          <span class="c1"># old index</span>
    <span class="n">value_vars</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;values&#39;</span><span class="p">,</span><span class="s1">&#39;of&#39;</span><span class="p">,</span><span class="s1">&#39;column&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span> <span class="p">],</span>
        <span class="c1"># optional...pandas can often infer it</span>
    <span class="n">var_name</span> <span class="o">=</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span>       <span class="c1"># these two lines just</span>
    <span class="n">value_name</span> <span class="o">=</span> <span class="s1">&#39;C&#39;</span> <span class="p">)</span>    <span class="c1"># restore column names</span>
</pre></div>
</div>
<p>Convert hierarchical row index to a hierarchical column index:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># assume df.index.names is [&#39;A&#39;,&#39;B&#39;,&#39;C&#39;]</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span> <span class="n">level</span> <span class="o">=</span> <span class="s1">&#39;B&#39;</span> <span class="p">)</span>  <span class="c1"># or A or C</span>
<span class="c1"># equivalently:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span> <span class="n">level</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">)</span>    <span class="c1"># or 0 or 2</span>
<span class="c1"># and this can be inverted:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span> <span class="n">level</span> <span class="o">=</span> <span class="s1">&#39;B&#39;</span> <span class="p">)</span>    <span class="c1"># for example</span>
</pre></div>
</div>
<p>To change the nesting order of a hierarchical index:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">swaplevel</span><span class="p">(</span> <span class="n">levelindex1</span><span class="p">,</span> <span class="n">levelindex2</span> <span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">sort_index</span><span class="p">()</span>               <span class="c1"># necessary now</span>
</pre></div>
</div>
<p>If the pivot column(s) aren’t a unique index, use <code class="docutils literal notranslate"><span class="pre">pivot_table</span></code> instead, often with an aggregation function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">new_df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span>        <span class="c1"># this pivot table</span>
    <span class="n">index</span>   <span class="o">=</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>              <span class="c1"># is a frequency</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span>              <span class="c1"># table, because</span>
    <span class="n">values</span>  <span class="o">=</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span>              <span class="c1"># aggfunc is count</span>
    <span class="n">aggfunc</span> <span class="o">=</span> <span class="s1">&#39;count&#39;</span> <span class="p">)</span>         <span class="c1"># (default: mean)</span>
<span class="c1"># other aggfuncs: &#39;sum&#39;, plus many functions in</span>
<span class="c1"># numpy, such as np.min, np.max, np.median, etc.</span>
<span class="c1"># You can also add column totals at the bottom:</span>
<span class="n">new_df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span>
    <span class="n">index</span>   <span class="o">=</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span>
    <span class="n">values</span>  <span class="o">=</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span>
    <span class="n">margins</span> <span class="o">=</span> <span class="kc">True</span> <span class="p">)</span>            <span class="c1"># add column sums</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-4-grouping-data">
<h4><span class="section-number">2.2.1.3. </span>Chapter 4: Grouping data<a class="headerlink" href="#chapter-4-grouping-data" title="Permalink to this headline">¶</a></h4>
<p>Group all columns except column A by the unique values in column A, then apply some aggregation method to each group:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example: total number of rows for each weekday</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span> <span class="s1">&#39;weekday&#39;</span> <span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="c1"># example: total sales in each city</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span> <span class="s1">&#39;city&#39;</span> <span class="p">)[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="c1"># multiple column names gives a multi-level index</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span> <span class="p">[</span> <span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;state&#39;</span> <span class="p">]</span> <span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="c1"># you can group by any series with the same index;</span>
<span class="c1"># here is an example:</span>
<span class="n">series</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;column A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span> <span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span> <span class="n">series</span> <span class="p">)[</span><span class="s1">&#39;column B&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">agg</span></code> method lets us do even more:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># you can do multiple aggregations at once;</span>
<span class="c1"># this, too, gives a multi-level index:</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span> <span class="s1">&#39;weekday&#39;</span> <span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span> <span class="p">[</span> <span class="s1">&#39;max&#39;</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span> <span class="p">]</span> <span class="p">)</span>
<span class="c1"># or you can pass a user-defined function:</span>
<span class="k">def</span> <span class="nf">sum_of_squares</span> <span class="p">(</span> <span class="n">series</span> <span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span> <span class="n">series</span> <span class="o">*</span> <span class="n">series</span> <span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span> <span class="s1">&#39;weekday&#39;</span> <span class="p">)[</span><span class="s1">&#39;column name&#39;</span><span class="p">]</span>
  <span class="o">.</span><span class="n">agg</span><span class="p">(</span> <span class="n">sum_of_squares</span> <span class="p">)</span>
<span class="c1"># or dictionaries can let us apply different</span>
<span class="c1"># aggregations to different columns:</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span> <span class="s1">&#39;weekday&#39;</span> <span class="p">)[[</span><span class="s1">&#39;Quantity Ordered&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;Total Cost&#39;</span><span class="p">]]</span>
  <span class="o">.</span><span class="n">agg</span><span class="p">(</span> <span class="p">{</span> <span class="s1">&#39;Quantity Ordered&#39;</span> <span class="p">:</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span>
          <span class="s1">&#39;Total Cost&#39;</span>       <span class="p">:</span> <span class="s1">&#39;sum&#39;</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">transform</span></code> is just like <code class="docutils literal notranslate"><span class="pre">apply</span></code>, except that it must convert each value into exactly one other, thus preserving shape.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example: convert values to zscores</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">zscore</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span> <span class="s1">&#39;region&#39;</span> <span class="p">)[</span><span class="s1">&#39;gdp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span> <span class="n">zscore</span> <span class="p">)</span>
  <span class="o">.</span><span class="n">agg</span><span class="p">(</span> <span class="p">[</span> <span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span> <span class="p">]</span> <span class="p">)</span>
<span class="c1"># example: impute missing values as medians</span>
<span class="k">def</span> <span class="nf">impute_median</span><span class="p">(</span><span class="n">series</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">series</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">series</span><span class="o">.</span><span class="n">median</span><span class="p">())</span>
<span class="n">grouped</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span> <span class="p">[</span> <span class="s1">&#39;col B&#39;</span><span class="p">,</span> <span class="s1">&#39;col C&#39;</span> <span class="p">]</span> <span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;col A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">grouped</span><span class="p">[</span><span class="s1">&#39;col A&#39;</span><span class="p">]</span>
              <span class="o">.</span><span class="n">transform</span><span class="p">(</span> <span class="n">impute_median</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="before-day-4-review-of-visualization-in-cs230">
<h2><span class="section-number">2.3. </span>Before Day 4: Review of Visualization in CS230<a class="headerlink" href="#before-day-4-review-of-visualization-in-cs230" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pandas-foundations">
<h3><span class="section-number">2.3.1. </span><a class="reference external" href="https://www.datacamp.com/courses/pandas-foundations">pandas Foundations</a><a class="headerlink" href="#pandas-foundations" title="Permalink to this headline">¶</a></h3>
<div class="section" id="chapter-2-exploratory-data-analysis">
<h4><span class="section-number">2.3.1.1. </span>Chapter 2: Exploratory data analysis<a class="headerlink" href="#chapter-2-exploratory-data-analysis" title="Permalink to this headline">¶</a></h4>
<p>Plots from DataFrames:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># any of these can be followed with plt.title(),</span>
<span class="c1"># plt.xlabel(), etc., then plt.show() at the end:</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;col name&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;col name&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span> <span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;col name&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;box&#39;</span> <span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;col name&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span> <span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;box&#39;</span> <span class="p">)</span> <span class="c1"># all columns side-by-side</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span> <span class="p">)</span> <span class="c1"># all columns on same axes</span>
</pre></div>
</div>
<p>Histogram options: <code class="docutils literal notranslate"><span class="pre">bins</span></code>, <code class="docutils literal notranslate"><span class="pre">range</span></code>, <code class="docutils literal notranslate"><span class="pre">normed</span></code>, <code class="docutils literal notranslate"><span class="pre">cumulative</span></code>, and more.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>        <span class="c1"># summary statistics</span>
<span class="c1"># df.describe() makes calls to df.mean(), df.std(),</span>
<span class="c1"># df.median(), df.quantile(), etc...</span>
</pre></div>
</div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="before-day-5">
<h2><span class="section-number">2.4. </span>Before Day 5<a class="headerlink" href="#before-day-5" title="Permalink to this headline">¶</a></h2>
<div class="section" id="intermediate-python">
<h3><span class="section-number">2.4.1. </span><a class="reference external" href="https://www.datacamp.com/courses/intermediate-python-for-data-science">Intermediate Python</a><a class="headerlink" href="#intermediate-python" title="Permalink to this headline">¶</a></h3>
<div class="section" id="chapter-5-case-study-hacker-statistics">
<h4><span class="section-number">2.4.1.1. </span>Chapter 5: Case Study: Hacker Statistics<a class="headerlink" href="#chapter-5-case-study-hacker-statistics" title="Permalink to this headline">¶</a></h4>
<p>Uniform random numbers from NumPy:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span> <span class="n">my_int</span> <span class="p">)</span>  <span class="c1"># choose a random sequence</span>
<span class="c1"># (seeds are optional, but ensure reproducibility)</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span>          <span class="c1"># uniform random in [0,1)</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>    <span class="c1"># uniform random in a:b</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="statistical-thinking-in-python-part-1">
<h3><span class="section-number">2.4.2. </span><a class="reference external" href="https://www.datacamp.com/courses/statistical-thinking-in-python-part-1">Statistical Thinking in Python, Part 1</a><a class="headerlink" href="#statistical-thinking-in-python-part-1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="chapter-1-graphical-exploratory-data-analysis">
<h4><span class="section-number">2.4.2.1. </span>Chapter 1: Graphical Exploratory Data Analysis<a class="headerlink" href="#chapter-1-graphical-exploratory-data-analysis" title="Permalink to this headline">¶</a></h4>
<p>Plotting a histogram of your data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;column of interest&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span> <span class="s1">&#39;column name (units)&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span> <span class="s1">&#39;number of [fill in]&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>To change the <span class="math notranslate nohighlight">\(y\)</span> axis to probabilities:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;column of interest&#39;</span><span class="p">],</span> <span class="n">normed</span><span class="o">=</span><span class="kc">True</span> <span class="p">)</span>
</pre></div>
</div>
<p>Sometimes there is a sensible choice of where to place bin boundaries, based on the meaning of the <span class="math notranslate nohighlight">\(x\)</span> axis.  Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;column of percentages&#39;</span><span class="p">],</span>
          <span class="n">bins</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">100</span><span class="p">]</span> <span class="p">)</span>
</pre></div>
</div>
<p>Change default plot styling to Seaborn:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
<span class="c1"># then do plotting afterwards</span>
</pre></div>
</div>
<p>If your data has observations as rows and features as columns, with two features of interest in columns A and B, you can create a “bee swarm plot” as follows.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># assuming your dataframe is called df:</span>
<span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span> <span class="s1">&#39;explain column A&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span> <span class="s1">&#39;explain column B&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>To show a data’s distribution as an Empirical Cumulative Distribution Function plot:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># the data must be sorted from lowest to highest:</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;column of interest&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="c1"># the y values must count evenly from 0% to 100%:</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span> <span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="c1"># then create and show the plot:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;none&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span> <span class="s1">&#39;explain column of interest&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span> <span class="s1">&#39;ECDF&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">margins</span><span class="p">(</span> <span class="mf">0.02</span> <span class="p">)</span>  <span class="c1"># 2% margin all around</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Multiple ECDFs on one plot:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prepare the data as before, but now repeatedly:</span>
<span class="c1"># (this could be abstracted into a function)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;column 1&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span> <span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;none&#39;</span> <span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;column 2&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span> <span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="c1"># and so on, if there were other columns to plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;none&#39;</span> <span class="p">)</span>
<span class="c1"># and so on if there are more data series</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span> <span class="p">(</span><span class="s1">&#39;explain x1&#39;</span><span class="p">,</span> <span class="s1">&#39;explain x2&#39;</span><span class="p">),</span>
            <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower right&#39;</span><span class="p">)</span>
<span class="c1"># then label axes and show plot as usual (not shown)</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-2-quantitative-exploratory-data-analysis">
<h4><span class="section-number">2.4.2.2. </span>Chapter 2: Quantitative Exploratory Data Analysis<a class="headerlink" href="#chapter-2-quantitative-exploratory-data-analysis" title="Permalink to this headline">¶</a></h4>
<p>The mean is the center of mass of the data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;column name&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span> <span class="n">series</span> <span class="p">)</span>
</pre></div>
</div>
<p>The median is the 50th percentile, or midpoint of the data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;column name&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span> <span class="n">series</span> <span class="p">)</span>
</pre></div>
</div>
<p>Or you can compute any percentile:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">quartiles</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;column name&#39;</span><span class="p">],</span> <span class="p">[</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">75</span> <span class="p">]</span> <span class="p">)</span>
<span class="n">iqr</span> <span class="o">=</span> <span class="n">quartiles</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">quartiles</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Box plots show the quartiles, the IQR, and the outliers:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span> <span class="p">)</span>
<span class="c1"># then label axes and show plot as above</span>
</pre></div>
</div>
<p>Variance measures the spread of the data, the average squared distance from the mean.
Standard deviation is its square root.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">var</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;column name&#39;</span><span class="p">]</span> <span class="p">)</span>  <span class="c1"># or any series</span>
<span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;column name&#39;</span><span class="p">]</span> <span class="p">)</span>  <span class="c1"># or any series</span>
</pre></div>
</div>
<p>Covariance measures correlation between two data series.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># get a covariance matrix on of these ways:</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cov</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;column 1&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;column 2&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cov</span><span class="p">(</span> <span class="n">series1</span><span class="p">,</span> <span class="n">series2</span> <span class="p">)</span>
<span class="c1"># extract the value you care about, for example:</span>
<span class="n">covariance</span> <span class="o">=</span> <span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>The Pearson correlation coefficient normalizes this to <span class="math notranslate nohighlight">\([-1,1]\)</span>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># same as covariance, but using np.corrcoef instead:</span>
<span class="n">np</span><span class="o">.</span><span class="n">corrcoef</span><span class="p">(</span> <span class="n">series1</span><span class="p">,</span> <span class="n">series2</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-3-thinking-probabalistically-discrete-variables">
<h4><span class="section-number">2.4.2.3. </span>Chapter 3: Thinking probabalistically–Discrete variables<a class="headerlink" href="#chapter-3-thinking-probabalistically-discrete-variables" title="Permalink to this headline">¶</a></h4>
<p>Recall these random number generation basics:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span> <span class="n">my_int</span> <span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>        <span class="c1"># uniform random in [0,1)</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>    <span class="c1"># uniform random in a:b</span>
</pre></div>
</div>
<p>Sampling many times from some distribution:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># if the distribution is built into numpy:</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span> <span class="p">)</span>
<span class="c1"># if the distribution is not built into numpy:</span>
<span class="n">simulation_size</span> <span class="o">=</span> <span class="mi">1000</span>    <span class="c1"># or any number</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span> <span class="n">simulation_size</span> <span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="n">simulation_size</span> <span class="p">):</span>
    <span class="c1"># generate a random number here, however you</span>
    <span class="c1"># need to; here is a random example:</span>
    <span class="n">value</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="c1"># store it in the list of results:</span>
    <span class="n">results</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</pre></div>
</div>
<p>Bernoulli trials with probability <span class="math notranslate nohighlight">\(p\)</span>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">success</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">p</span>    <span class="c1"># one trial</span>
<span class="n">num_successes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span>
    <span class="n">num_trials</span><span class="p">,</span> <span class="n">p</span> <span class="p">)</span>                 <span class="c1"># many trials</span>
<span class="c1"># 1000 experiments, each containing 20 trials:</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span> <span class="mi">20</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span> <span class="p">)</span>
</pre></div>
</div>
<p>Poisson distribution (size parameter optional):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">samples</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">poisson</span><span class="p">(</span>
    <span class="n">mean_arrival_rate</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-4-thinking-probabalistically-continuous-variables">
<h4><span class="section-number">2.4.2.4. </span>Chapter 4: Thinking probabalistically–Continuous variables<a class="headerlink" href="#chapter-4-thinking-probabalistically-continuous-variables" title="Permalink to this headline">¶</a></h4>
<p>Normal (Gaussian) distribution (size parameter optional):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">samples</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span> <span class="n">mean</span><span class="p">,</span> <span class="n">std</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span> <span class="p">)</span>
</pre></div>
</div>
<p>Exponential distribution (time between events in a Poisson distribution,
size parameter optional again):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">samples</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">exponential</span><span class="p">(</span> <span class="n">mean_wait</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span> <span class="p">)</span>
</pre></div>
</div>
<p>You can take an array of numbers generated by simulation and plot it as an ECDF, as covered in the Graphical EDA chapter, earlier in this week.</p>
</div>
</div>
<div class="section" id="introduction-to-data-visualization-with-python">
<h3><span class="section-number">2.4.3. </span><a class="reference external" href="https://www.datacamp.com/courses/introduction-to-data-visualization-in-python">Introduction to Data Visualization with Python</a><a class="headerlink" href="#introduction-to-data-visualization-with-python" title="Permalink to this headline">¶</a></h3>
<p><em>NOTE: Only Chapters 1 and 3 are required here.</em></p>
<div class="section" id="chapter-1-customizing-plots">
<h4><span class="section-number">2.4.3.1. </span>Chapter 1: Customizing Plots<a class="headerlink" href="#chapter-1-customizing-plots" title="Permalink to this headline">¶</a></h4>
<p>Break a plot into an <span class="math notranslate nohighlight">\(n\times m\)</span> grid of subplots as follows:</p>
<p>(This is preferable to <code class="docutils literal notranslate"><span class="pre">plt.axes</span></code>, not covered here.)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># create the grid and begin working on subplot #1:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="p">)</span>          <span class="c1"># this will create plot #1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span> <span class="s1">&#39;...&#39;</span> <span class="p">)</span>        <span class="c1"># title for plot #1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span> <span class="s1">&#39;...&#39;</span> <span class="p">)</span>       <span class="c1"># ...and any other options</span>
<span class="c1"># keep the same grid and now work on subplot #2:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="mi">2</span> <span class="p">)</span>
<span class="c1"># any plot commands here for plot 2,</span>
<span class="c1"># continuing for any further subplots, ending with:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Tweak the limits on the axes as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span> <span class="p">[</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span> <span class="p">]</span> <span class="p">)</span>  <span class="c1"># set x axis limits</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span> <span class="p">[</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span> <span class="p">]</span> <span class="p">)</span>  <span class="c1"># set y axis limits</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span> <span class="p">[</span> <span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">ymin</span><span class="p">,</span> <span class="n">ymax</span> <span class="p">]</span> <span class="p">)</span> <span class="c1"># both</span>
</pre></div>
</div>
<p>To add a legend to a plot:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># when plotting series, give each a label,</span>
<span class="c1"># which will identify it in the legend:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;first series&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;second series&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x3</span><span class="p">,</span> <span class="n">y3</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;third series&#39;</span> <span class="p">)</span>
<span class="c1"># then add the legend:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper right&#39;</span> <span class="p">)</span>
<span class="c1"># then show the plot as usual</span>
</pre></div>
</div>
<p>To annotate a figure:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># add text at some point (here, (10,15)):</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span> <span class="p">)</span>
<span class="c1"># add text at (10,15) with an arrow to (5,15):</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span>
              <span class="n">arrowprops</span><span class="o">=</span><span class="p">{</span> <span class="s1">&#39;color&#39;</span> <span class="p">:</span> <span class="s1">&#39;red&#39;</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>Change plot styles globally:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">available</span>       <span class="c1"># see list of styles</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span> <span class="s1">&#39;style&#39;</span> <span class="p">)</span>  <span class="c1"># choose one</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-3-statistical-plots-with-seaborn">
<h4><span class="section-number">2.4.3.2. </span>Chapter 3: Statistical plots with Seaborn<a class="headerlink" href="#chapter-3-statistical-plots-with-seaborn" title="Permalink to this headline">¶</a></h4>
<p>Plotting a linear regression line:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;col 1&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;col 2&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span> <span class="p">)</span>
</pre></div>
</div>
<p>Plotting a linear regression line:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;col 1&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;col 2&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="c1"># and the corresponding residual plot:</span>
<span class="n">sns</span><span class="o">.</span><span class="n">residplot</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;col 1&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;col 2&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
               <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span> <span class="p">)</span>  <span class="c1"># color optional</span>
</pre></div>
</div>
<p>Plotting a polynomial regression curve of order <span class="math notranslate nohighlight">\(n\)</span>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;col 1&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;col 2&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
             <span class="n">order</span><span class="o">=</span><span class="n">n</span> <span class="p">)</span>
<span class="c1"># this will include a scatter plot, but if you&#39;ve</span>
<span class="c1"># already done one, you can omit redoing it:</span>
<span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;col 1&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;col 2&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
             <span class="n">order</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">scatter</span><span class="o">=</span><span class="kc">None</span> <span class="p">)</span>
</pre></div>
</div>
<p>To do multiple regression plots for each value of a categorical variable in column X, distinguished by color:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;col 1&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;col 2&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
            <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;column X&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;Set1&#39;</span> <span class="p">)</span>
<span class="c1"># (many other options exist for palette)</span>
</pre></div>
</div>
<p>Now separate plots into columns, rather than all on one plot:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;col 1&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;col 2&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
            <span class="n">row</span><span class="o">=</span><span class="s1">&#39;column X&#39;</span> <span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;col 1&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;col 2&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
            <span class="n">col</span><span class="o">=</span><span class="s1">&#39;column X&#39;</span> <span class="p">)</span>
</pre></div>
</div>
<p>Strip plots can visualize univariate distributions, especially useful when broken into categories:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;data column&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;category column&#39;</span><span class="p">,</span>
               <span class="n">data</span><span class="o">=</span><span class="n">df</span> <span class="p">)</span>
<span class="c1"># to add jitter to spread data out a bit in x:</span>
<span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;data column&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;category column&#39;</span><span class="p">,</span>
               <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">jitter</span><span class="o">=</span><span class="kc">True</span> <span class="p">)</span>
</pre></div>
</div>
<p>Swarm plots, covered earlier, are very similar, but can also have colors in them to distinguish categorical variables:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;data column&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;category 1&#39;</span><span class="p">,</span>
               <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;category 2&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span> <span class="p">)</span>
<span class="c1"># and you can also change the orientation:</span>
<span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;category 1&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;data column&#39;</span><span class="p">,</span>
               <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;category 2&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
               <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;h&#39;</span> <span class="p">)</span>
</pre></div>
</div>
<p>Violin plots make curves using kernel density estimation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">violinplot</span><span class="p">(</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;data column&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;category 1&#39;</span><span class="p">,</span>
                <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;category 2&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span> <span class="p">)</span>
</pre></div>
</div>
<p>Joint plots for visualizing a relationship between two variables:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">jointplot</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;col 1&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;col 2&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span> <span class="p">)</span>
<span class="c1"># and to add smoothing using KDE:</span>
<span class="n">sns</span><span class="o">.</span><span class="n">jointplot</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;col 1&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;col 2&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
               <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;kde&#39;</span> <span class="p">)</span>
<span class="c1"># other kind options: reg, resid, hex</span>
</pre></div>
</div>
<p>Scatter plots and histograms for all numerical columns in <code class="docutils literal notranslate"><span class="pre">df</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">pairplot</span><span class="p">(</span> <span class="n">df</span> <span class="p">)</span>           <span class="c1"># no grouping/coloring</span>
<span class="n">sns</span><span class="o">.</span><span class="n">pairplot</span><span class="p">(</span> <span class="n">df</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;A&#39;</span> <span class="p">)</span>  <span class="c1"># color by column A</span>
</pre></div>
</div>
<p>Visualize a covariance matrix with a heatmap:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cov</span><span class="p">(</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;col 1&#39;</span><span class="p">,</span><span class="s1">&#39;col 2&#39;</span><span class="p">,</span><span class="s1">&#39;col3&#39;</span><span class="p">]],</span> <span class="c1"># or more</span>
            <span class="n">rowvar</span><span class="o">=</span><span class="kc">False</span> <span class="p">)</span>   <span class="c1"># vars are in columns</span>
<span class="c1"># (or you can use np.corrcoef to normalize np.cov)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span> <span class="n">M</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="before-day-6">
<h2><span class="section-number">2.5. </span>Before Day 6<a class="headerlink" href="#before-day-6" title="Permalink to this headline">¶</a></h2>
<div class="section" id="merging-dataframes-with-pandas">
<h3><span class="section-number">2.5.1. </span><a class="reference external" href="https://learn.datacamp.com/courses/merging-dataframes-with-pandas">Merging DataFrames with pandas</a><a class="headerlink" href="#merging-dataframes-with-pandas" title="Permalink to this headline">¶</a></h3>
<div class="section" id="chapter-1-preparing-data">
<h4><span class="section-number">2.5.1.1. </span>Chapter 1: Preparing data<a class="headerlink" href="#chapter-1-preparing-data" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">glob</span></code> module is useful:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">glob</span> <span class="kn">import</span> <span class="n">glob</span>            <span class="c1"># built-in module</span>
<span class="n">filenames</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span> <span class="s1">&#39;*.csv&#39;</span> <span class="p">)</span>      <span class="c1"># filename list</span>
<span class="n">data_frames</span> <span class="o">=</span> <span class="p">[</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">filenames</span> <span class="p">]</span>         <span class="c1"># import all files</span>
</pre></div>
</div>
<p>You can reorder the rows in a DataFrame with <code class="docutils literal notranslate"><span class="pre">reindex</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example: if an index of month or day names were</span>
<span class="c1"># sorted alphabetically as strings</span>
<span class="c1"># rather than chronologically:</span>
<span class="n">ordered_days</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;Mon&#39;</span><span class="p">,</span> <span class="s1">&#39;Tue&#39;</span><span class="p">,</span> <span class="s1">&#39;Wed&#39;</span><span class="p">,</span> <span class="s1">&#39;Thu&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;Fri&#39;</span><span class="p">,</span> <span class="s1">&#39;Sat&#39;</span><span class="p">,</span> <span class="s1">&#39;Sun&#39;</span> <span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span> <span class="n">ordered_days</span> <span class="p">)</span>
<span class="c1"># use this to make two dataframes with a common</span>
<span class="c1"># index agree on their ordering:</span>
<span class="n">df1</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span> <span class="n">df2</span><span class="o">.</span><span class="n">index</span> <span class="p">)</span>
<span class="c1"># in case the indices don&#39;t perfectly match,</span>
<span class="c1"># NaN values will be inserted, which you can drop:</span>
<span class="n">df1</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span> <span class="n">df2</span><span class="o">.</span><span class="n">index</span> <span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="c1"># or for missing rows, fill with earlier ones:</span>
<span class="n">df</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span> <span class="n">some_series</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;ffill&quot;</span> <span class="p">)</span>
<span class="c1"># (there is also a bfill, for back-fill)</span>
</pre></div>
</div>
<p>You can reorder a DataFrame in preparation for reindexing:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># sort by index, ascending or descending:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_index</span><span class="p">(</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span> <span class="p">)</span>
<span class="c1"># sort by a column, ascending or descending:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span> <span class="s1">&#39;column name&#39;</span><span class="p">,</span>      <span class="c1"># required</span>
                     <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span> <span class="p">)</span>   <span class="c1"># optional</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-2-concatenating-data">
<h4><span class="section-number">2.5.1.2. </span>Chapter 2: Concatenating data<a class="headerlink" href="#chapter-2-concatenating-data" title="Permalink to this headline">¶</a></h4>
<p>To add one DataFrame onto the end of another:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">big_df</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">df2</span> <span class="p">)</span>  <span class="c1"># top: df1, bottom: df2</span>
<span class="n">big_s</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">s2</span> <span class="p">)</span>     <span class="c1"># works for Series, too</span>
<span class="c1"># This also stacks indices, so you usually want to:</span>
<span class="n">big_df</span> <span class="o">=</span> <span class="n">big_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span> <span class="n">drop</span><span class="o">=</span><span class="kc">True</span> <span class="p">)</span>
</pre></div>
</div>
<p>To add many DataFrames or series on top of one another:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">big_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span> <span class="p">[</span> <span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">df3</span> <span class="p">]</span> <span class="p">)</span>
           <span class="o">.</span><span class="n">reset_index</span><span class="p">(</span> <span class="n">drop</span><span class="o">=</span><span class="kc">True</span> <span class="p">)</span>
<span class="c1"># equivalently:</span>
<span class="n">big_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span> <span class="p">[</span> <span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">df3</span> <span class="p">],</span>
                    <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span> <span class="p">)</span>
<span class="c1"># or add a hierarchical index to disambiguate:</span>
<span class="n">big_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span> <span class="p">[</span> <span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">df3</span> <span class="p">],</span>
                    <span class="n">keys</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;key1&#39;</span><span class="p">,</span><span class="s1">&#39;key2&#39;</span><span class="p">,</span><span class="s1">&#39;key3&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="c1"># equivalently:</span>
<span class="n">big_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span> <span class="p">{</span> <span class="n">key1</span> <span class="p">:</span> <span class="n">df1</span><span class="p">,</span>
                      <span class="n">key2</span> <span class="p">:</span> <span class="n">df2</span><span class="p">,</span>
                      <span class="n">key3</span> <span class="p">:</span> <span class="n">df3</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">df2</span></code> introduces new columns, and you want to form rows based on common indices, concat by columns:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">big_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span> <span class="p">[</span> <span class="n">df1</span><span class="p">,</span> <span class="n">df2</span> <span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span> <span class="p">)</span>
<span class="c1"># equivalently:</span>
<span class="n">big_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span> <span class="p">[</span> <span class="n">df1</span><span class="p">,</span> <span class="n">df2</span> <span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span> <span class="p">)</span>
<span class="c1"># these accept keys=[...] also, or a dict to concat</span>
</pre></div>
</div>
<p>By default, <code class="docutils literal notranslate"><span class="pre">concat</span></code> performs an “outer join,” that is, index sets are unioned.  To intersect them (“inner join”) do this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">big_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span> <span class="p">[</span> <span class="n">df1</span><span class="p">,</span> <span class="n">df2</span> <span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">join</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span> <span class="p">)</span>
<span class="c1"># equivalently:</span>
<span class="n">big_df</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">join</span><span class="p">(</span> <span class="n">df2</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="chapter-3-merging-data">
<h3><span class="section-number">2.5.2. </span>Chapter 3: Merging data<a class="headerlink" href="#chapter-3-merging-data" title="Permalink to this headline">¶</a></h3>
<p>Inner joins on non-index columns are done with <code class="docutils literal notranslate"><span class="pre">merge</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># default merges on all columns present</span>
<span class="c1"># in both dataframes:</span>
<span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span> <span class="n">df1</span><span class="p">,</span> <span class="n">df2</span> <span class="p">)</span>
<span class="c1"># or you can choose your column:</span>
<span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span> <span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;colname&#39;</span> <span class="p">)</span>
<span class="c1"># or multiple columns:</span>
<span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span> <span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;col1&#39;</span><span class="p">,</span><span class="s1">&#39;col2&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="c1"># if the columns have different names in each df:</span>
<span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span> <span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span>
    <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;col1&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;col2&#39;</span> <span class="p">)</span>
<span class="c1"># to specify meaningful suffixes to replace the</span>
<span class="c1"># default suffixes _x and _y:</span>
<span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span> <span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span>
    <span class="n">suffixes</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;_from_2011&#39;</span><span class="p">,</span><span class="s1">&#39;_from_2012&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="c1"># you can also specify left, right, or outer joins:</span>
<span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span> <span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span> <span class="p">)</span>
</pre></div>
</div>
<p>We often have to sort after merging (maybe by a date index), for which there is <code class="docutils literal notranslate"><span class="pre">merge_ordered</span></code>.  It most often goes with an outer join, so that’s its default.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># instead of this:</span>
<span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span> <span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span> <span class="p">)</span>
           <span class="o">.</span><span class="n">sorted_values</span><span class="p">(</span> <span class="s1">&#39;colname&#39;</span> <span class="p">)</span>
<span class="c1"># do this, which is shorter and faster:</span>
<span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge_ordered</span><span class="p">(</span> <span class="n">df1</span><span class="p">,</span> <span class="n">df2</span> <span class="p">)</span>
<span class="c1"># it accepts same keyword arguments as merge,</span>
<span class="c1"># plus fill_method, like so:</span>
<span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge_ordered</span><span class="p">(</span> <span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span>
           <span class="n">fill_method</span><span class="o">=</span><span class="s1">&#39;ffill&#39;</span> <span class="p">)</span>
</pre></div>
</div>
<p>When dates don’t fully match, you can round dates in the right DataFrame up to the nearest date in the left DataFrame:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge_asof</span><span class="p">(</span> <span class="n">df1</span><span class="p">,</span> <span class="n">df2</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="before-day-8">
<h2><span class="section-number">2.6. </span>Before Day 8<a class="headerlink" href="#before-day-8" title="Permalink to this headline">¶</a></h2>
<div class="section" id="streamlined-data-ingestion-with-pandas">
<h3><span class="section-number">2.6.1. </span><a class="reference external" href="https://learn.datacamp.com/courses/streamlined-data-ingestion-with-pandas">Streamlined Data Ingestion with pandas</a><a class="headerlink" href="#streamlined-data-ingestion-with-pandas" title="Permalink to this headline">¶</a></h3>
<div class="section" id="chapter-1-importing-data-from-flat-files">
<h4><span class="section-number">2.6.1.1. </span>Chapter 1: Importing Data from Flat Files<a class="headerlink" href="#chapter-1-importing-data-from-flat-files" title="Permalink to this headline">¶</a></h4>
<p>Any file whose rows are on separate lines and whose entries are separated by some delimiter can be read with the same <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> function we’ve already seen.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;my_csv_file.csv&quot;</span> <span class="p">)</span>   <span class="c1"># commas</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;my_tabbed_file.tsv&quot;</span><span class="p">,</span>
                  <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span> <span class="p">)</span>            <span class="c1"># tabs</span>
</pre></div>
</div>
<p>If you only need some of the data, you can save space:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># choose just some columns:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;my_csv_file.csv&quot;</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="p">[</span>
    <span class="s2">&quot;use&quot;</span><span class="p">,</span> <span class="s2">&quot;only&quot;</span><span class="p">,</span> <span class="s2">&quot;these&quot;</span><span class="p">,</span> <span class="s2">&quot;columns&quot;</span> <span class="p">]</span> <span class="p">)</span>
<span class="c1"># can also give a list of column indices,</span>
<span class="c1"># or a function that filters column names</span>

<span class="c1"># choose just the first 100 rows:</span>
<span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;my_csv_file.csv&quot;</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">100</span> <span class="p">)</span>
<span class="c1"># choose just rows 1001 to 1100,</span>
<span class="c1"># re-using the column header from df1:</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;my_csv_file.csv&quot;</span><span class="p">,</span>
                   <span class="n">nrows</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                   <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>       <span class="c1"># skipped it</span>
                   <span class="n">names</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">df1</span><span class="p">)</span> <span class="p">)</span>  <span class="c1"># re-use</span>
</pre></div>
</div>
<p>If pandas is guessing a column’s data type incorrectly, you can specify it manually:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;my_geographic_data.csv&quot;</span><span class="p">,</span>
                  <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;zipcode&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
                         <span class="s2">&quot;isemployed&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">}</span> <span class="p">)</span>
<span class="c1"># to correctly handle bool types:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;my_geographic_data.csv&quot;</span><span class="p">,</span>
                  <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;zipcode&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
                         <span class="s2">&quot;isemployed&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">},</span>
                  <span class="n">true_values</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Yes&quot;</span><span class="p">],</span>
                  <span class="n">no_values</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;No&quot;</span><span class="p">]</span> <span class="p">)</span>
<span class="c1"># note: missing values get coded as True!</span>
<span class="c1"># (pandas understands True, False, 0, and 1)</span>
</pre></div>
</div>
<p>If some lines in a file are corrupt, you can ask <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> to skip them and just warn you, importing everything else:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;maybe_corrupt_lines.csv&quot;</span><span class="p">,</span>
                  <span class="n">error_bad_lines</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                  <span class="n">warn_bad_lines</span><span class="o">=</span><span class="kc">True</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-2-importing-data-from-excel-files">
<h4><span class="section-number">2.6.1.2. </span>Chapter 2: Importing Data from Excel Files<a class="headerlink" href="#chapter-2-importing-data-from-excel-files" title="Permalink to this headline">¶</a></h4>
<p>If the spreadsheet is a single table of data without formatting:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span> <span class="s2">&quot;my_table.xlsx&quot;</span> <span class="p">)</span>
<span class="c1"># nrows, skiprows, usecols, work as before, plus:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span> <span class="s2">&quot;my_table.xlsx&quot;</span><span class="p">,</span>
                    <span class="n">usecols</span><span class="o">=</span><span class="s2">&quot;C:J,L&quot;</span> <span class="p">)</span>  <span class="c1"># excel style</span>
</pre></div>
</div>
<p>If a file contains multiple sheets, choose one by name or index:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span> <span class="s2">&quot;my_workbook.xlsx&quot;</span><span class="p">,</span>
                    <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;budget&quot;</span> <span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span> <span class="s2">&quot;my_workbook.xlsx&quot;</span><span class="p">,</span>
                    <span class="n">sheet_name</span><span class="o">=</span><span class="mi">3</span> <span class="p">)</span>
<span class="c1"># (the default is the first sheet, index 0)</span>
</pre></div>
</div>
<p>Or load all sheets into an ordered dictionary mapping sheet names to DataFrames:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dfs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span> <span class="s2">&quot;my_workbook.xlsx&quot;</span><span class="p">,</span>
                     <span class="n">sheet_name</span><span class="o">=</span><span class="kc">None</span> <span class="p">)</span>
</pre></div>
</div>
<p>Advanced methods of date/time parsing:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># standard, as seen before:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span> <span class="s2">&quot;file.xlsx&quot;</span><span class="p">,</span>
                    <span class="n">parse_dates</span><span class="o">=</span><span class="kc">True</span> <span class="p">)</span>
<span class="c1"># just some cols, in standard date/time format:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span> <span class="s2">&quot;file.xlsx&quot;</span><span class="p">,</span>
                    <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span><span class="s2">&quot;col2&quot;</span><span class="p">]</span> <span class="p">)</span>
<span class="c1"># what if a date/time pair is split over 2 cols?</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span> <span class="s2">&quot;file.xlsx&quot;</span><span class="p">,</span>
                    <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span>
                        <span class="s2">&quot;datetime1&quot;</span><span class="p">,</span>
                        <span class="p">[</span><span class="s2">&quot;date2&quot;</span><span class="p">,</span><span class="s2">&quot;time2&quot;</span><span class="p">]</span>
                    <span class="p">]</span> <span class="p">)</span>
<span class="c1"># what if we want to control column names?</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span> <span class="s2">&quot;file.xlsx&quot;</span><span class="p">,</span>
                    <span class="n">parse_dates</span><span class="o">=</span><span class="p">{</span>
                        <span class="s2">&quot;name1&quot;</span><span class="p">:</span><span class="s2">&quot;datetime1&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;name2&quot;</span><span class="p">:[</span><span class="s2">&quot;date2&quot;</span><span class="p">,</span><span class="s2">&quot;time2&quot;</span><span class="p">]</span>
                    <span class="p">}</span> <span class="p">)</span>
<span class="c1"># for nonstandard formats, do post-processing,</span>
<span class="c1"># using a strftime format string, like this example:</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;col&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;col&quot;</span><span class="p">],</span>
    <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%m</span><span class="si">%d</span><span class="s2">%Y %H:%M:%S&quot;</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-3-importing-data-from-databases">
<h4><span class="section-number">2.6.1.3. </span>Chapter 3: Importing Data from Databases<a class="headerlink" href="#chapter-3-importing-data-from-databases" title="Permalink to this headline">¶</a></h4>
<p>In SQLite, databases are <code class="docutils literal notranslate"><span class="pre">.db</span></code> files:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prepare to connect to the database:</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">create_engine</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span> <span class="s2">&quot;sqlite:///filename.db&quot;</span> <span class="p">)</span>
<span class="c1"># fetch a table:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span> <span class="s2">&quot;table name&quot;</span><span class="p">,</span> <span class="n">engine</span> <span class="p">)</span>
<span class="c1"># or run any kind of SQL query:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span> <span class="s2">&quot;PUT QUERY CODE HERE&quot;</span><span class="p">,</span> <span class="n">engine</span> <span class="p">)</span>
<span class="c1"># if the query code is big:</span>
<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;PUT YOUR SQL CODE</span>
<span class="s2">           HERE ON AS MANY LINES</span>
<span class="s2">           AS YOU LIKE;&quot;&quot;&quot;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span> <span class="n">query</span><span class="p">,</span> <span class="n">engine</span> <span class="p">)</span>
<span class="c1"># or get a list of tables:</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">engine</span><span class="o">.</span><span class="n">table_names</span><span class="p">()</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-4-importing-json-data-and-working-with-apis">
<h4><span class="section-number">2.6.1.4. </span>Chapter 4: Importing JSON Data and Working with APIs<a class="headerlink" href="#chapter-4-importing-json-data-and-working-with-apis" title="Permalink to this headline">¶</a></h4>
<p>From a file or string:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># from a file:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span> <span class="s2">&quot;filename.json&quot;</span> <span class="p">)</span>
<span class="c1"># from a string:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span> <span class="n">string_containing_json</span> <span class="p">)</span>
<span class="c1"># can specify dtype, as with read_csv:</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span> <span class="s2">&quot;filename.json&quot;</span><span class="p">,</span>
                   <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;zipcode&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">}</span> <span class="p">)</span>
<span class="c1"># also see pandas documentation for JSON &quot;orient&quot;:</span>
<span class="c1"># records, columns, index, values, or split</span>
</pre></div>
</div>
<p>From the web with an API:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;http://your.api.com/goes/here&quot;</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;dictionary&quot;</span> <span class="p">:</span> <span class="s2">&quot;with things like&quot;</span><span class="p">,</span>
        <span class="s2">&quot;username&quot;</span> <span class="p">:</span> <span class="s2">&quot;or API key&quot;</span>
    <span class="p">},</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;dictionary&quot;</span> <span class="p">:</span> <span class="s2">&quot;with options as&quot;</span><span class="p">,</span>
        <span class="s2">&quot;required by&quot;</span> <span class="p">:</span> <span class="s2">&quot;the API docs&quot;</span>
    <span class="p">}</span> <span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>  <span class="c1"># ignore metadata</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span> <span class="n">data</span> <span class="p">)</span>
<span class="c1"># or possibly some part of the data, like:</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;some key&quot;</span><span class="p">]</span> <span class="p">)</span>
<span class="c1"># (you must inspect it to know)</span>
</pre></div>
</div>
<p>If the JSON has nested objects, you can flatten:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pandas.io.json</span> <span class="kn">import</span> <span class="n">json_normalize</span>
<span class="c1"># instead of this line:</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;maybe a column&quot;</span><span class="p">]</span> <span class="p">)</span>
<span class="c1"># do this:</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">json_normalize</span><span class="p">(</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;maybe a column&quot;</span><span class="p">],</span>
                         <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;_&quot;</span> <span class="p">)</span>
<span class="c1"># (if there is deep nesting, see the record_path,</span>
<span class="c1"># meta, and meta_prefix options)</span>
</pre></div>
</div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="before-day-9">
<h2><span class="section-number">2.7. </span>Before Day 9<a class="headerlink" href="#before-day-9" title="Permalink to this headline">¶</a></h2>
<div class="section" id="introduction-to-sql">
<h3><span class="section-number">2.7.1. </span><a class="reference external" href="https://learn.datacamp.com/courses/introduction-to-sql">Introduction to SQL</a><a class="headerlink" href="#introduction-to-sql" title="Permalink to this headline">¶</a></h3>
<div class="section" id="chapter-1-selecting-columns">
<h4><span class="section-number">2.7.1.1. </span>Chapter 1: Selecting columns<a class="headerlink" href="#chapter-1-selecting-columns" title="Permalink to this headline">¶</a></h4>
<p>SQL (“sequel”) means Structured Query Language.  A SQL database contains tables, each of which is like a DataFrame.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- A single-line SQL comment</span>
<span class="cm">/*</span>
<span class="cm">A multi-line</span>
<span class="cm">SQL comment</span>
<span class="cm">*/</span>
</pre></div>
</div>
<p>To fetch one column from a table:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="k">column_name</span> <span class="k">FROM</span> <span class="k">table_name</span><span class="p">;</span>
</pre></div>
</div>
<p>To fetch multiple columns from a table:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">column1</span><span class="p">,</span> <span class="n">column2</span> <span class="k">FROM</span> <span class="k">table_name</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="k">table_name</span><span class="p">;</span>   <span class="c1">-- all columns</span>
</pre></div>
</div>
<p>To remove duplicates:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="k">DISTINCT</span> <span class="k">column_name</span>
<span class="k">FROM</span> <span class="k">table_name</span><span class="p">;</span>
</pre></div>
</div>
<p>To count rows:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="k">FROM</span> <span class="k">table_name</span><span class="p">;</span>    <span class="c1">-- counts all the rows</span>
<span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="k">column_name</span><span class="p">)</span>
<span class="k">FROM</span> <span class="k">table_name</span><span class="p">;</span>    <span class="c1">-- counts the non-</span>
     <span class="c1">-- missing values in just that column</span>
<span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="k">column_name</span><span class="p">)</span>
<span class="k">FROM</span> <span class="k">table_name</span><span class="p">;</span>    <span class="c1">-- # of unique entries</span>
</pre></div>
</div>
<p>If a result is huge, you may want just the first few lines:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="k">column</span> <span class="k">FROM</span> <span class="k">table_name</span>
<span class="k">LIMIT</span> <span class="mi">10</span><span class="p">;</span>           <span class="c1">-- only return 10 rows</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-2-filtering-rows">
<h4><span class="section-number">2.7.1.2. </span>Chapter 2: Filtering rows<a class="headerlink" href="#chapter-2-filtering-rows" title="Permalink to this headline">¶</a></h4>
<p>(selecting a subset of the rows using the <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> keyword)</p>
<p>Using the comparison operators <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, and <code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code>, plus the inclusive range filter <code class="docutils literal notranslate"><span class="pre">BETWEEN</span></code>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="k">table_name</span>
<span class="k">WHERE</span> <span class="n">quantity</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">;</span>  <span class="c1">-- numeric filter</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="k">table_name</span>
<span class="k">WHERE</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Jeff&#39;</span><span class="p">;</span>    <span class="c1">-- string filter</span>
</pre></div>
</div>
<p>Using range and set filters:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">title</span><span class="p">,</span><span class="n">release_year</span> <span class="k">FROM</span> <span class="n">films</span>
<span class="k">WHERE</span> <span class="n">release_year</span> <span class="k">BETWEEN</span> <span class="mi">1990</span> <span class="k">AND</span> <span class="mi">1999</span><span class="p">;</span>
                        <span class="c1">-- range filter</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span>
<span class="k">WHERE</span> <span class="k">role</span> <span class="k">IN</span> <span class="p">(</span><span class="s1">&#39;Engineer&#39;</span><span class="p">,</span><span class="s1">&#39;Sales&#39;</span><span class="p">);</span>
                        <span class="c1">-- set filter</span>
</pre></div>
</div>
<p>Finding rows where specific columns have missing values:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span>
<span class="k">WHERE</span> <span class="k">role</span> <span class="k">IS</span> <span class="k">NULL</span><span class="p">;</span>
</pre></div>
</div>
<p>Combining filters with <code class="docutils literal notranslate"><span class="pre">AND</span></code>, <code class="docutils literal notranslate"><span class="pre">OR</span></code>, and parentheses:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="k">table_name</span>
<span class="k">WHERE</span> <span class="n">quantity</span> <span class="o">&gt;=</span> <span class="mi">100</span>
  <span class="k">AND</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Jeff&#39;</span><span class="p">;</span>    <span class="c1">-- one combination</span>
<span class="k">SELECT</span> <span class="n">title</span><span class="p">,</span><span class="n">release_year</span> <span class="k">FROM</span> <span class="n">films</span>
<span class="k">WHERE</span> <span class="n">release_year</span> <span class="o">&gt;=</span> <span class="mi">1990</span>
  <span class="k">AND</span> <span class="n">release_year</span> <span class="o">&lt;=</span> <span class="mi">1999</span>
  <span class="k">AND</span> <span class="p">(</span> <span class="k">language</span> <span class="o">=</span> <span class="s1">&#39;French&#39;</span>
     <span class="k">OR</span> <span class="k">language</span> <span class="o">=</span> <span class="s1">&#39;Spanish&#39;</span> <span class="p">)</span>
  <span class="k">AND</span> <span class="n">gross</span> <span class="o">&gt;</span> <span class="mi">2000000</span><span class="p">;</span>  <span class="c1">-- many</span>
</pre></div>
</div>
<p>Using wildcards (<code class="docutils literal notranslate"><span class="pre">%</span></code> and <code class="docutils literal notranslate"><span class="pre">_</span></code>) to filter strings with <code class="docutils literal notranslate"><span class="pre">LIKE</span></code>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span>
<span class="k">WHERE</span> <span class="n">name</span> <span class="k">LIKE</span> <span class="s1">&#39;Mac%&#39;</span><span class="p">;</span> <span class="c1">-- e.g., MacEwan</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span>
<span class="k">WHERE</span> <span class="n">id</span> <span class="k">NOT</span> <span class="k">LIKE</span> <span class="s1">&#39;%00&#39;</span><span class="p">;</span><span class="c1">-- e.g., 352800</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span>
<span class="k">WHERE</span> <span class="n">name</span> <span class="k">LIKE</span> <span class="s1">&#39;D_n&#39;</span><span class="p">;</span>  <span class="c1">-- e.g., Dan, Don</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-3-aggregate-functions">
<h4><span class="section-number">2.7.1.3. </span>Chapter 3: Aggregate Functions<a class="headerlink" href="#chapter-3-aggregate-functions" title="Permalink to this headline">¶</a></h4>
<p>We’ve seen this function before; it is an aggregator:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="k">FROM</span> <span class="k">table_name</span><span class="p">;</span>    <span class="c1">-- counts all the rows</span>
</pre></div>
</div>
<p>Some other aggregating functions:
<code class="docutils literal notranslate"><span class="pre">SUM</span></code>, <code class="docutils literal notranslate"><span class="pre">AVG</span></code>, <code class="docutils literal notranslate"><span class="pre">MIN</span></code>, <code class="docutils literal notranslate"><span class="pre">MAX</span></code>.
The resulting column name is the function name (e.g., <code class="docutils literal notranslate"><span class="pre">MAX</span></code>).</p>
<p>To give a more descriptive name:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="k">MIN</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="n">lowest_salary</span><span class="p">,</span>
       <span class="k">MAX</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="n">highest_salary</span>
<span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
</pre></div>
</div>
<p>You can also do arithmetic on columns:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">budget</span><span class="o">/</span><span class="mi">1000</span> <span class="k">AS</span> <span class="n">budget_in_thousands</span>
<span class="k">FROM</span> <span class="n">projects</span><span class="p">;</span>      <span class="c1">-- convert a column</span>
<span class="k">SELECT</span> <span class="n">hours_worked</span> <span class="o">*</span> <span class="n">hourly_pay</span>
<span class="k">FROM</span> <span class="n">work_log</span> <span class="k">WHERE</span> <span class="nb">date</span> <span class="o">&gt;</span> <span class="s1">&#39;2019-09-01&#39;</span><span class="p">;</span>
                    <span class="c1">-- create a column</span>
<span class="k">SELECT</span> <span class="k">count</span><span class="p">(</span><span class="n">start_date</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">.</span><span class="mi">0</span><span class="o">/</span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="k">FROM</span> <span class="k">table_name</span><span class="p">;</span>    <span class="c1">-- percent not missing</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-4-sorting-and-grouping">
<h4><span class="section-number">2.7.1.4. </span>Chapter 4: Sorting and grouping<a class="headerlink" href="#chapter-4-sorting-and-grouping" title="Permalink to this headline">¶</a></h4>
<p>Sorting happens only after selecting:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">name</span><span class="p">;</span>      <span class="c1">-- ascending order</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">name</span> <span class="k">DESC</span><span class="p">;</span> <span class="c1">-- descending order</span>
<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span><span class="n">salary</span> <span class="k">FROM</span> <span class="n">employees</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="k">role</span><span class="p">,</span><span class="n">name</span><span class="p">;</span> <span class="c1">-- multiple columns</span>
</pre></div>
</div>
<p>Grouping happens after selecting but before sorting.  It is used when you want to apply an aggregate function like <code class="docutils literal notranslate"><span class="pre">COUNT</span></code> or <code class="docutils literal notranslate"><span class="pre">AVG</span></code> not across the whole result set, but to groups within it.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Compute average salary by role:</span>
<span class="k">SELECT</span> <span class="k">role</span><span class="p">,</span><span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="k">role</span><span class="p">;</span>
<span class="c1">-- How many people are in each division?</span>
<span class="c1">-- (sorting results by division name)</span>
<span class="k">SELECT</span> <span class="n">division</span><span class="p">,</span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">division</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">division</span><span class="p">;</span>
</pre></div>
</div>
<p>Every selected column except the one(s) you’re aggregating must appear in your <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code>.</p>
<p>To filter by a condition (like with <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> but now applied to each group) use the <code class="docutils literal notranslate"><span class="pre">HAVING</span></code> keyword:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Same as above, but omit tiny divisions:</span>
<span class="k">SELECT</span> <span class="n">division</span><span class="p">,</span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">division</span>
<span class="k">HAVING</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">10</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">division</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="additional-useful-references">
<h2><span class="section-number">2.8. </span>Additional Useful References<a class="headerlink" href="#additional-useful-references" title="Permalink to this headline">¶</a></h2>
<div class="section" id="python-data-science-toolbox-part-2">
<h3><span class="section-number">2.8.1. </span><a class="reference external" href="https://www.datacamp.com/courses/python-data-science-toolbox-part-2">Python Data Science Toolbox, Part 2</a><a class="headerlink" href="#python-data-science-toolbox-part-2" title="Permalink to this headline">¶</a></h3>
<div class="section" id="chapter-1-using-iterators-in-pythonland">
<h4><span class="section-number">2.8.1.1. </span>Chapter 1: Using iterators in PythonLand<a class="headerlink" href="#chapter-1-using-iterators-in-pythonland" title="Permalink to this headline">¶</a></h4>
<p>To convert an iterable to an iterator and use it:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_iterable</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;three&#39;</span> <span class="p">]</span>  <span class="c1"># example</span>
<span class="n">my_iterator</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span> <span class="n">my_iterable</span> <span class="p">)</span>
<span class="n">first_value</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span> <span class="n">my_iterator</span> <span class="p">)</span>        <span class="c1"># &#39;one&#39;</span>
<span class="n">second_value</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span> <span class="n">my_iterator</span> <span class="p">)</span>       <span class="c1"># &#39;two&#39;</span>
<span class="c1"># and so on</span>
</pre></div>
</div>
<p>To attach indices to the elements of an iterable:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_iterable</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;three&#39;</span> <span class="p">]</span>  <span class="c1"># example</span>
<span class="n">with_indices</span> <span class="o">=</span> <span class="nb">enumerate</span><span class="p">(</span> <span class="n">my_iterable</span> <span class="p">)</span>
<span class="n">my_iterator</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span> <span class="n">with_indices</span> <span class="p">)</span>
<span class="n">first_value</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span> <span class="n">my_iterator</span> <span class="p">)</span>        <span class="c1"># (0,&#39;one&#39;)</span>
<span class="n">second_value</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span> <span class="n">my_iterator</span> <span class="p">)</span>       <span class="c1"># (1,&#39;two&#39;)</span>
<span class="c1"># and so on; see also &quot;Looping Constructs&quot; earlier</span>
</pre></div>
</div>
<p>To join iterables into tuples, use <code class="docutils literal notranslate"><span class="pre">zip</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">iterable1</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span> <span class="mi">5</span> <span class="p">)</span>
<span class="n">iterable2</span> <span class="o">=</span> <span class="s1">&#39;five!&#39;</span>
<span class="n">iterable3</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;How&#39;</span><span class="p">,</span> <span class="s1">&#39;are&#39;</span><span class="p">,</span> <span class="s1">&#39;you&#39;</span><span class="p">,</span> <span class="s1">&#39;today&#39;</span><span class="p">,</span> <span class="s1">&#39;?&#39;</span> <span class="p">]</span>
<span class="nb">all</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span> <span class="n">iterable1</span><span class="p">,</span> <span class="n">iterable2</span><span class="p">,</span> <span class="n">iterable3</span> <span class="p">)</span>
<span class="nb">next</span><span class="p">(</span> <span class="nb">all</span> <span class="p">)</span>     <span class="c1"># (0,&#39;f&#39;,&#39;How&#39;)</span>
<span class="nb">next</span><span class="p">(</span> <span class="nb">all</span> <span class="p">)</span>     <span class="c1"># (1,&#39;i&#39;,&#39;are&#39;)</span>
<span class="c1"># and so on, or use this syntax:</span>
<span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span> <span class="n">iterable1</span><span class="p">,</span> <span class="n">iterable2</span> <span class="p">):</span>
    <span class="n">do_something_with</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="p">)</span>
</pre></div>
</div>
<p>Think of <code class="docutils literal notranslate"><span class="pre">zip</span></code> as converting a list of rows into a list of columns, a “matrix transpose,” which is its own inverse:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">row1</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">]</span>
<span class="n">row2</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span> <span class="p">]</span>
<span class="n">cols</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span> <span class="n">row1</span><span class="p">,</span> <span class="n">row2</span> <span class="p">)</span>     <span class="c1"># swap rows and columns</span>
<span class="nb">print</span><span class="p">(</span> <span class="o">*</span><span class="n">cols</span> <span class="p">)</span>               <span class="c1"># (1,4) (2,5) (3,6)</span>
<span class="n">cols</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span> <span class="n">row1</span><span class="p">,</span> <span class="n">row2</span> <span class="p">)</span>     <span class="c1"># restart iterator</span>
<span class="n">undo1</span><span class="p">,</span> <span class="n">undo2</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span> <span class="o">*</span><span class="n">cols</span> <span class="p">)</span>  <span class="c1"># swap rows/cols again</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">undo1</span><span class="p">,</span> <span class="n">undo2</span> <span class="p">)</span>        <span class="c1"># (1,2,3) (4,5,6)</span>
</pre></div>
</div>
<p>Pandas can read CSV files into DataFrames in chunks, creating an iterable out of a file too large for memory:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="n">filename</span><span class="p">,</span> <span class="n">chunksize</span><span class="o">=</span><span class="mi">100</span> <span class="p">):</span>
    <span class="n">process_one_chunk</span><span class="p">(</span> <span class="n">chunk</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="chapter-2-list-comprehensions-and-generators">
<h4><span class="section-number">2.8.1.2. </span>Chapter 2: List comprehensions and generators<a class="headerlink" href="#chapter-2-list-comprehensions-and-generators" title="Permalink to this headline">¶</a></h4>
<p>List comprehensions build a list from an output expression and a <code class="docutils literal notranslate"><span class="pre">for</span></code> clause:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="n">n</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="p">]</span>      <span class="c1"># == [9,16,25]</span>
</pre></div>
</div>
<p>You can nest list comprehensions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="p">]</span>
  <span class="c1"># == [(0,0),(0,1),(0,2),(0,3),</span>
  <span class="c1">#     (1,0),(1,1),(1,2),(1,3),</span>
  <span class="c1">#     (2,0),(2,1),(2,2),(2,3)]</span>
</pre></div>
</div>
<p>You can put conditions on the <code class="docutils literal notranslate"><span class="pre">for</span></code> clause:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="p">]</span>  <span class="c1"># == [ (1,2), (2,1), (2,2) ]</span>
</pre></div>
</div>
<p>You can put conditions in the output expression:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">some_data</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">0.65</span><span class="p">,</span> <span class="mf">9.12</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.1</span><span class="p">,</span> <span class="mf">2.8</span><span class="p">,</span> <span class="o">-</span><span class="mf">50.6</span> <span class="p">]</span>
<span class="p">[</span> <span class="n">x</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;NEG&#39;</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">some_data</span> <span class="p">]</span>
  <span class="c1"># == [ 0.65, 9.12, &#39;NEG&#39;, 2.8, &#39;NEG&#39; ]</span>
</pre></div>
</div>
<p>A dict comprehension creates a dictionary from an output expression in <code class="docutils literal notranslate"><span class="pre">key:value</span></code> form, plus a <code class="docutils literal notranslate"><span class="pre">for</span></code> clause:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="n">a</span><span class="p">:</span> <span class="n">a</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;one&#39;</span><span class="p">,</span><span class="s1">&#39;two&#39;</span><span class="p">,</span><span class="s1">&#39;three&#39;</span><span class="p">]</span> <span class="p">}</span>
  <span class="c1"># == { &#39;one&#39;:&#39;One&#39;, &#39;two&#39;:&#39;Two&#39;, &#39;three&#39;:&#39;Three&#39; }</span>
</pre></div>
</div>
<p>Just like list comprehensions, but with parentheses:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="p">(</span> <span class="n">n</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="p">)</span>
<span class="nb">next</span><span class="p">(</span> <span class="n">g</span> <span class="p">)</span>                         <span class="c1"># == 9</span>
<span class="nb">next</span><span class="p">(</span> <span class="n">g</span> <span class="p">)</span>                         <span class="c1"># == 16</span>
<span class="nb">next</span><span class="p">(</span> <span class="n">g</span> <span class="p">)</span>                         <span class="c1"># == 25</span>
</pre></div>
</div>
<p>You can build generators with functions and <code class="docutils literal notranslate"><span class="pre">yield</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">just_like_range</span> <span class="p">(</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="p">):</span>
    <span class="n">counter</span> <span class="o">=</span> <span class="n">a</span>
    <span class="k">while</span> <span class="n">counter</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">counter</span>
        <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="nb">list</span><span class="p">(</span> <span class="n">just_like_range</span><span class="p">(</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span> <span class="p">)</span> <span class="p">)</span>   <span class="c1"># == [5,6,7,8]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id1">
<h3><span class="section-number">2.8.2. </span><a class="reference external" href="https://www.datacamp.com/courses/introduction-to-data-visualization-in-python">Introduction to Data Visualization with Python</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="chapter-2-plotting-2d-arrays">
<h4><span class="section-number">2.8.2.1. </span>Chapter 2: Plotting 2D arrays<a class="headerlink" href="#chapter-2-plotting-2d-arrays" title="Permalink to this headline">¶</a></h4>
<p>To plot a bivariate function using colors:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># choose the sampling points in both axes:</span>
<span class="n">u</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span> <span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">num_xpoints</span> <span class="p">)</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span> <span class="n">ymin</span><span class="p">,</span> <span class="n">ymax</span><span class="p">,</span> <span class="n">num_ypoints</span> <span class="p">)</span>
<span class="c1"># create pairs from these axes:</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="p">)</span>
<span class="c1"># broadcast a function across those points:</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span>
<span class="c1"># plot it in color:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">pcolor</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>       <span class="c1"># optional but helpful</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span> <span class="s1">&#39;tight&#39;</span> <span class="p">)</span>  <span class="c1"># remove whitespace</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="c1"># optionally, the pcolor call can take a color</span>
<span class="c1"># map parameter, one of a host of palettes, e.g.:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">pcolor</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;autumn&#39;</span> <span class="p">)</span>
</pre></div>
</div>
<p>To make a contour plot instead of a color map plot:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># replace the pcolor line with this:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="mi">50</span> <span class="p">)</span>  <span class="c1"># choose num. contours</span>
<span class="n">plt</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="p">)</span>     <span class="c1"># fill the contours</span>
</pre></div>
</div>
<p>To make a bivariate histogram:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># for rectangular bins:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist2d</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">(</span><span class="n">xbins</span><span class="p">,</span><span class="n">ybins</span><span class="p">)</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>
<span class="c1"># with optional x and y ranges:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist2d</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">(</span><span class="n">xbins</span><span class="p">,</span><span class="n">ybins</span><span class="p">),</span>
            <span class="nb">range</span><span class="o">=</span><span class="p">((</span><span class="n">xmin</span><span class="p">,</span><span class="n">xmax</span><span class="p">),(</span><span class="n">ymin</span><span class="p">,</span><span class="n">ymax</span><span class="p">))</span> <span class="p">)</span>
<span class="c1"># for hexagonal bins:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hexbin</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span>
            <span class="n">gridsize</span><span class="o">=</span><span class="p">(</span><span class="n">num_x_hexes</span><span class="p">,</span><span class="n">num_y_hexes</span><span class="p">)</span> <span class="p">)</span>
<span class="c1"># with optional x and y ranges:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hexbin</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span>
            <span class="n">gridsize</span><span class="o">=</span><span class="p">(</span><span class="n">num_x_hexes</span><span class="p">,</span><span class="n">num_y_hexes</span><span class="p">),</span>
            <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="n">xmin</span><span class="p">,</span><span class="n">xmax</span><span class="p">,</span><span class="n">ymin</span><span class="p">,</span><span class="n">ymax</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
<p>To display an image from a file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">image</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span> <span class="s1">&#39;filename.png&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span> <span class="n">image</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span> <span class="s1">&#39;off&#39;</span> <span class="p">)</span>           <span class="c1"># axes don&#39;t apply here</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="c1"># to collapse a color image to grayscale:</span>
<span class="n">gray_img</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span> <span class="n">gray_img</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span> <span class="p">)</span>
<span class="c1"># to alter the aspect ratio:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span> <span class="n">gray_img</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="n">height</span><span class="o">/</span><span class="n">width</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="course-schedule.html" title="previous page"><span class="section-number">1. </span>Detailed Course Schedule</a>
    <a class='right-next' id="next-link" href="anaconda-installation.html" title="next page"><span class="section-number">3. </span>Anaconda Installation</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Nathan Carter<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>