
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>5. Before and After &#8212; MA346 Course Notes</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="canonical" href="https://nathancarter.github.io/MA346-course-notes/chapter-5-before-and-after.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="6. Single-Table Verbs" href="chapter-6-single-table-verbs.html" />
    <link rel="prev" title="4. Review of Python and pandas" href="chapter-4-review-of-python-and-pandas.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">MA346 Course Notes</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Course Notes for Data Science (MA346)
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Notes
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-1-intro-to-data-science.html">
   1. Introduction to Data Science
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-2-mathematical-foundations.html">
   2. Mathematical Foundations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-3-jupyter.html">
   3. Jupyter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-4-review-of-python-and-pandas.html">
   4. Review of Python and pandas
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   5. Before and After
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-6-single-table-verbs.html">
   6. Single-Table Verbs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-7-abstraction.html">
   7. Abstraction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-8-version-control.html">
   8. Version Control
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-9-math-and-stats.html">
   9. Mathematics and Statistics in Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-10-visualization.html">
   10. Visualization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-11-processing-rows.html">
   11. Processing the Rows of a DataFrame
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-12-concat-and-merge.html">
   12. Concatenating and Merging DataFrames
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-13-etl.html">
   13. Miscellaneous Munging Methods (ETL)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-14-dashboards.html">
   14. Dashboards
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-15-networks.html">
   15. Relations as Graphs - Network Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-16-matrices.html">
   16. Relations as Matrices
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chapter-17-machine-learning.html">
   17. Introduction to Machine Learning
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Appendices
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="course-schedule.html">
   1. Detailed Course Schedule
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="big-cheat-sheet.html">
   2. Big Cheat Sheet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="anaconda-installation.html">
   3. Anaconda Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="vs-code-installation.html">
   4. VS Code for Python Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="GB213-review-in-Python.html">
   5. GB213 Review in Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="loyo-list.html">
   6. All Learning On Your Own Opportunities
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="bigpic-list.html">
   7. All Big Picture Concepts
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/chapter-5-before-and-after.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/nathancarter/MA346-course-notes/master?urlpath=tree/chapter-5-before-and-after.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#requirements-and-guarantees">
   5.1. Requirements and Guarantees
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#requirements">
     5.1.1. Requirements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#guarantees">
     5.1.2. Guarantees
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#communication">
   5.2. Communication
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-1">
     5.2.1. Example 1
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-2">
     5.2.2. Example 2
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#knowing-your-target-audience">
     5.2.3. Knowing your target audience
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#professionalism">
     5.2.4. Professionalism
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#choosing-a-medium">
     5.2.5. Choosing a medium
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="before-and-after">
<h1><span class="section-number">5. </span>Before and After<a class="headerlink" href="#before-and-after" title="Permalink to this headline">¶</a></h1>
<p><a href="../../_slides/chapter-5-slides.html">See also the slides that summarize a portion of this content.</a></p>
<p>The phrase “before and after” has two meanings for us in MA346.</p>
<ul class="simple">
<li><p>First, it relates to code:  What <em>requirements</em> do we need to satisfy <em>before</em> doing something with data, and what <em>guarantees</em> do the math and stats techniques we use provide <em>after</em> we’ve used them?</p></li>
<li><p>Second, it relates to communicating about code:  When we’re writing explanations about our code, how do we know what kind of explanations to insert <em>before and after</em> a piece of code?</p></li>
</ul>
<p>Let’s look at each of these meanings separately.</p>
<div class="section" id="requirements-and-guarantees">
<h2><span class="section-number">5.1. </span>Requirements and Guarantees<a class="headerlink" href="#requirements-and-guarantees" title="Permalink to this headline">¶</a></h2>
<div class="section" id="requirements">
<h3><span class="section-number">5.1.1. </span>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h3>
<p>Almost nobody ever writes a piece of code with no clear purpose in mind.  You can’t write code the way you can doodle in the margins of a notebook, aimless, purposeless, spacing out.  Code almost always accomplishes something; that’s what it was built for and that’s why we use it.  So when we’re coding, it’s helpful to think about our code in a purposeful way.  It helps to do so in a “before and after” way.</p>
<p>Before writing a piece of code, you need to know what situation you’re currently in (including your data, variables, files, etc.).  This is because the code you write will almost certainly have requirements that need to be true before that code can be run.  Here are some examples:</p>
<ul class="simple">
<li><p>If I’m going to sort a health care DataFrame by the “heart rate” column, the DataFrame had better have a “heart rate” column, not a “heart_rate” column, or a “HeartRate” column, etc.  (This is a requirement imposed by the sorting routine.  It can’t guess the column name’s correct spelling; you have to provide it.)</p></li>
<li><p>If I’m going to fit a linear model to the relationship between the “heart rate” variable and the “oxygen replacement” variable, I should be sure that the relationship between those two variables appears to be approximately linear.  (This is a requirement imposed by the nature of linear models.  It isn’t always a smart idea to use a linear model if that doesn’t reflect the actual relationship in the data.)</p></li>
</ul>
<p>Any code I’m about to run has <em>requirements</em> that must be true in order for that code to work, and if those requirements aren’t satisfied, the code will either give you an error or silently do the wrong thing.  Sometimes these are called “assumptions” instead of requirements, because the code assumes you’re running it in a situation where it makes sense to do so.</p>
<p>For instance, in the sorting example above, if the DataFrame didn’t have a “heart rate” column, our sorting code would give an error saying so.  But in the linear model example above, we would get no error, but we would probably get a linear model that wasn’t very useful, or that produces poor predictions.</p>
<p>You can think of these requirements or assumptions as <strong>what to know before running your code</strong> (or what to check if you don’t yet know it).  They are almost always phrased in terms of the inputs to the function you’re about to run, such as the data type the input must have, or the size/shape it must have, or the contents it must have.</p>
<p>How do we make sure we don’t violate any important requirements, or ignore any important assumptions?  <em>Know what the relevant requirements are</em> for the code you’re about to run and <em>check them before you run the code.</em>  In some cases, the requirements are so small that it doesn’t make sense to waste time checking them, as in the “heart rate” example above.  (If we get it wrong, the error message will tell us, and we’ll fix it, nice and easy.)  But in other cases, the requirements are important and take time to check, as in the linear model example above.  In fact, let’s look at that specific example more closely.</p>
<p>Let’s say we’ve loaded a dataset of mortgages, with columns for <code class="docutils literal notranslate"><span class="pre">property_value</span></code> and <code class="docutils literal notranslate"><span class="pre">total_loan_costs</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="s1">&#39;_static/practice-project-dataset-1.csv&#39;</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>I’m suspecting <code class="docutils literal notranslate"><span class="pre">total_loan_costs</span></code> can be estimated pretty reliably with a linear model from <code class="docutils literal notranslate"><span class="pre">property_value</span></code>.  But before I go and fit such a model, I had better check to be sure that the relationship between those variables actually seems to be linear.  The code below checks exactly that.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">two_cols</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;property_value&#39;</span><span class="p">,</span><span class="s1">&#39;total_loan_costs&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span> <span class="s1">&#39;Exempt&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span> <span class="p">)</span>
<span class="n">two_cols</span> <span class="o">=</span> <span class="n">two_cols</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span> <span class="nb">float</span> <span class="p">)</span>
<span class="n">two_cols</span> <span class="o">=</span> <span class="n">two_cols</span><span class="p">[</span><span class="n">two_cols</span><span class="p">[</span><span class="s1">&#39;property_value&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">2000000</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">two_cols</span><span class="p">[</span><span class="s1">&#39;property_value&#39;</span><span class="p">],</span> <span class="n">two_cols</span><span class="p">[</span><span class="s1">&#39;total_loan_costs&#39;</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.25</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span> <span class="s1">&#39;Sample of over 15,000 U.S. mortgage applications in 2018&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span> <span class="s1">&#39;Property value (USD)&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span> <span class="s1">&#39;Total loan costs (USD)&#39;</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/chapter-5-before-and-after_4_0.png" src="_images/chapter-5-before-and-after_4_0.png" />
</div>
</div>
<p>Hmm…While some portions of that picture are linear (such as the top and bottom edges, as well as a thick strip at about <span class="math notranslate nohighlight">\(y=4000\)</span>), it’s pretty clear that the whole shape is not at all close to a straight line.  Any model that predicts total costs just based on property value is going to be an unreliable predictor.  I almost certainly don’t want to make a linear model for this after all (unless I’m in a situation in which I just need an <em>extremely</em> rough estimate).  Good thing I checked the requirements before making the model!</p>
</div>
<div class="section" id="guarantees">
<h3><span class="section-number">5.1.2. </span>Guarantees<a class="headerlink" href="#guarantees" title="Permalink to this headline">¶</a></h3>
<p>Each piece of code you run also provides certain guarantees that will be true <em>after</em> it was run (as long as you took care to ensure that the assumptions it required held true <em>before</em> it was run).  Here are some examples:</p>
<ul class="simple">
<li><p>If you have a pandas DataFrame <code class="docutils literal notranslate"><span class="pre">df</span></code> containing numeric data and you call <code class="docutils literal notranslate"><span class="pre">df.mean()</span></code>, you will get a list of the mean value of each column in the data, computed separately, using the standard definition of mean from your intro stats class.</p></li>
<li><p>If you fit a linear model to data using the standard method (ordinary least squares), then you know that the resulting model is the one that minimizes the sum of the squared residuals.  In other words, the expected estimation error on your data is as small as possible.</p></li>
</ul>
<p>These guarantees are, in fact, the reason we run the code in the first place.  We have goals for our data work, and someone has provided us some Python-based tools that help us achieve our goals.  We trust the guarantees their software provides, and so we use it.</p>
<p>It’s important to be familiar with the guarantees provided by your math and stats software, for two reasons.  First, obviously, you can’t choose which code to run unless you know what it’s going to do when you run it!  But secondly, you’re going to want to be able to write good explanations to go along with your code, and you can’t do that unless you can articulate the guarantees your code makes.  Let’s talk about good explanations next.</p>
</div>
</div>
<div class="section" id="communication">
<h2><span class="section-number">5.2. </span>Communication<a class="headerlink" href="#communication" title="Permalink to this headline">¶</a></h2>
<div class="alert alert-primary admonition">
<p class="admonition-title">Big Picture - Explanations before and after code</p>
<p>The best code notebooks explain their contents according to two rules:</p>
<ol class="simple">
<li><p>Before each piece of code, explain the motivation for the code.</p></li>
<li><p>After each piece of code, explain what the output means.</p></li>
</ol>
<p><strong>Connect the two!</strong> Your output explanation should directly address your motivation for running the code.</p>
</div>
<p>This is so important that we should see some examples.</p>
<div class="section" id="example-1">
<h3><span class="section-number">5.2.1. </span>Example 1<a class="headerlink" href="#example-1" title="Permalink to this headline">¶</a></h3>
<p>Imagine that you just came across the following code, all by itself.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;state_code&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span> <span class="mi">10</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CA    1684
FL    1136
TX    1119
PA     564
GA     558
OH     542
NY     535
NC     524
IL     508
MI     469
Name: state_code, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Seeing this code naturally causes us to ask questions like:  Why are we running this code?  What is this output saying?  Who cares?  What are the numbers next to the state codes?  Why just these 10 states?  <strong>In short, this code all by itself gives us almost no idea what’s going on.</strong></p>
<p>If instead the writer of the code had followed the rules in the “Big Picture” at the start of this section, none of those questions would arise.  Here’s how they could have done it:</p>
<hr class="docutils" />
<p><strong>Which states have the most mortgage applications in our dataset?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;state_code&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span> <span class="mi">10</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CA    1684
FL    1136
TX    1119
PA     564
GA     558
OH     542
NY     535
NC     524
IL     508
MI     469
Name: state_code, dtype: int64
</pre></div>
</div>
</div>
</div>
<p><strong>Each state is shown next to the number of applications from that state in our dataset, largest first, then descending.  Here we show just the top 10.</strong></p>
<hr class="docutils" />
<p>Even with just a small piece of code, notice how easy it is to understand when we have the two explanations.  The sentence before the code asks an easy-to-understand question that shows the writer’s motivation for the code.  The two sentences after the code explain what the output shows and why we can trust it.</p>
<p>We help the reader (and ourselves later when we come back to this code!) by following those simple before-and-after rules of explanation.</p>
</div>
<div class="section" id="example-2">
<h3><span class="section-number">5.2.2. </span>Example 2<a class="headerlink" href="#example-2" title="Permalink to this headline">¶</a></h3>
<p>Imagine encountering this code:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rates</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;interest_rate&#39;</span><span class="p">]</span>
<span class="n">rates</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count     10061
unique      500
top        4.75
freq        912
Name: interest_rate, dtype: object
</pre></div>
</div>
</div>
</div>
<p>In this case, you might know what’s going on because <code class="docutils literal notranslate"><span class="pre">.describe()</span></code> is so common in pandas that many people are familiar with its output.  But we still can’t tell why the code was run, or what we’re supposed to pay attention to in the output.</p>
<p>Imagine instead that the writer of the code had done this:</p>
<hr class="docutils" />
<p><strong>We’d like to use the interest rates in the dataset to do some computation.  What format are they currently stored in?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rates</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;interest_rate&#39;</span><span class="p">]</span>
<span class="n">rates</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count     10061
unique      500
top        4.75
freq        912
Name: interest_rate, dtype: object
</pre></div>
</div>
</div>
</div>
<p><strong>The interest rates are written as percentages, since we see the most common one was 4.75 (instead of 0.0475, for example).  However, they are currently stored as text (what pandas calls “dtype: object”), so we must convert them before using them.  We stored them in the <code class="docutils literal notranslate"><span class="pre">rates</span></code> variable so we can manipulate it further later.</strong></p>
<hr class="docutils" />
<p>Now we know why the original coder cared about this output (and perhaps why we should).  Also, if we didn’t know what “dtype: object” meant, or why we might pay attention to that, now we know.  Also, we know not to multiply anything by these interest rates without also dividing by 100, because they’re percentages.  In fact, we know we can’t even multiply anything by them yet, until we convert them from text to numbers.  That’s so much more helpful than just the code alone!</p>
<p>Poor or missing explanations decrease productivity.  When you work on a project that takes more than one day to do (and you will definitely have that experience in MA346), you’re guaranteed to come back and look at some code that you wrote in the past and scratch your head, wondering why it doesn’t look familiar.  This happens to everyone.  Help yourself out by adding explanations about each piece of code you write.  This is a requirement for the projects you do in this class; you’ll see more about this when you read the specific grading requirements for each project.</p>
<p>It’s likely that one day you will write code for an employer, and you’ll definitely want to document that work with comments and explanations.  That work is very likely to be shared work with teammates at some point, such as using it to show new team members how to get started.  A pile of code without explanations is far less useful than code interspersed with careful explanations.</p>
</div>
<div class="section" id="knowing-your-target-audience">
<h3><span class="section-number">5.2.3. </span>Knowing your target audience<a class="headerlink" href="#knowing-your-target-audience" title="Permalink to this headline">¶</a></h3>
<p>When you’re considering adding explanations to your code, imagine yourself explaining the code to a future reader.</p>
<ul class="simple">
<li><p>If you suspect it’s a teammate that will read your code, write in the style you would use if you had to explain the code in person.</p></li>
<li><p>If you know it’s your MA346 instructor who will read your code, write in such a way that you prove you know what your code does and can articulate why you wrote it.</p></li>
<li><p>If you know it’s a new coder who will read your code, be more thorough and don’t take any knowledge for granted.  Think about what was confusing to you about the topic back when you first learned it, and help your reader past the same potential confusion by speaking about it directly.</p></li>
</ul>
</div>
<div class="section" id="professionalism">
<h3><span class="section-number">5.2.4. </span>Professionalism<a class="headerlink" href="#professionalism" title="Permalink to this headline">¶</a></h3>
<p>In a business context, taking the time required to make your writing as brief as possible has many benefits.</p>
<ul class="simple">
<li><p><strong>Greater productivity:</strong> Less to read means you’re done reading sooner.</p></li>
<li><p><strong>Less confusion:</strong> Long writing makes people space out.</p></li>
<li><p><strong>Showing respsect:</strong> You’ve invested the time required to make sure your writing doesn’t waste your reader’s time.</p></li>
<li><p><strong>Your reputation:</strong> Some worry that writing simply makes you look unintelligent.  Quite the opposite!  It makes you look like a clear writer.</p></li>
</ul>
<p>It is also essential to proofread what you’ve written.  Code explanations that don’t make sense because of typos, missing words, spelling errors, or enormous paragraphs help almost no one.  Take the time to ensure your writing would make your EXP101 professor proud.  In particular, any sufficiently long text (over one page, or one computer screen) needs headings to help the reader understand the structure.</p>
<div class="alert alert-danger admonition">
<p class="admonition-title">Learning on Your Own - Technical Writing Tips</p>
<p>Interview a professor in the English and Media Studies department.  Ask what their top 5 tips are for technical and/or business writing.  Create a report, video, or presentation on this for your MA346 peers.  Is it possible, for each tip, to show a realistic example of how bad things can be when someone disobeys the tip, compared side-by-side with a realistic example of how good things can be when the tip is followed?</p>
</div>
</div>
<div class="section" id="choosing-a-medium">
<h3><span class="section-number">5.2.5. </span>Choosing a medium<a class="headerlink" href="#choosing-a-medium" title="Permalink to this headline">¶</a></h3>
<p>Should I explanain my code using comments in the code, or Markdown cells, or what?  Here are some brief guidelines, but there are no set rules.</p>
<ul class="simple">
<li><p>A Python script with comments in it is best if:</p>
<ul>
<li><p>you’re writing a Python module that other software developers will read (which we won’t do in this class), or</p></li>
<li><p>the code is short enough that it doesn’t warrant a full Jupyter notebook.</p></li>
</ul>
</li>
<li><p>A Jupyter notebook with Markdown cells is best if:</p>
<ul>
<li><p>the code will generate tables and graphs that are a key part of what you’re trying to communicate, and</p></li>
<li><p>the readers are other coders, who may want to see the code along with the tables and graphs.</p></li>
<li><p>(It’s okay to also insert comments within code cells <em>in addition to</em> the before-and-after explanations between cells!)</p></li>
</ul>
</li>
<li><p>A report (such as a Word doc) or slide deck is best if:</p>
<ul>
<li><p>your audience is nontechnical and therefore will be turned off by seeing code, or</p></li>
<li><p>your audience is technical but in this particular instance they just want your results, or</p></li>
<li><p>the amount of writing and pictures in what you need to share is high, and the amount of code very small.</p></li>
<li><p>(Showing code in slides is almost never welcome in a business context.  Even when presenting to other coders, very small sections of code are best.)</p></li>
</ul>
</li>
<li><p>A code repository (which we’ll learn about in future weeks) is best if:</p>
<ul>
<li><p>you have several files you want to share together, such as one or more notebooks and one or more data files, and</p></li>
<li><p>you know that your audience may want to have access not just to your results, but to your code and data as well, and</p></li>
<li><p>you know that your audience is comfortable accessing a code repository.</p></li>
</ul>
</li>
</ul>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="chapter-4-review-of-python-and-pandas.html" title="previous page"><span class="section-number">4. </span>Review of Python and pandas</a>
    <a class='right-next' id="next-link" href="chapter-6-single-table-verbs.html" title="next page"><span class="section-number">6. </span>Single-Table Verbs</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Nathan Carter<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>